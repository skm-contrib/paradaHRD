(function(e,d){typeof exports=="object"&&typeof module<"u"?module.exports=d(require("vue"),require("date-fns")):typeof define=="function"&&define.amd?define(["vue","date-fns"],d):(e=typeof globalThis<"u"?globalThis:e||self,e.VueDatePicker=d(e.Vue,e.dateFns))})(this,function(e,d){"use strict";function ze(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),e.createElementVNode("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}function Wt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),e.createElementVNode("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}function wt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}function bt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}function Dt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),e.createElementVNode("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}function Mt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}function Ct(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}const $t=(t,r,a,n)=>{const i=d.parse(t,r.slice(0,t.length),new Date);return d.isValid(i)&&d.isDate(i)?n?i:d.set(i,{hours:+a.hours,minutes:+(a==null?void 0:a.minutes),seconds:+(a==null?void 0:a.seconds),milliseconds:0}):null},jt=(t,r,a,n)=>{const i=Array.isArray(a)?a[0]:a;if(typeof r=="string")return $t(t,r,i,n);if(Array.isArray(r)){let m=null;for(const k of r)if(m=$t(t,k,i,n),m)break;return m}return typeof r=="function"?r(t):null},w=t=>t?new Date(t):new Date,Gt=(t,r)=>{if(r){const n=(t.getMonth()+1).toString().padStart(2,"0"),i=t.getDate().toString().padStart(2,"0"),m=t.getHours().toString().padStart(2,"0"),k=t.getMinutes().toString().padStart(2,"0");return`${t.getFullYear()}-${n}-${i}T${m}:${k}:00.000Z`}const a=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(a).toISOString()},Me=t=>{let r=w(JSON.parse(JSON.stringify(t)));return r=d.setHours(r,0),r=d.setMinutes(r,0),r=d.setSeconds(r,0),r=d.setMilliseconds(r,0),r},De=(t,r,a,n)=>{let i=t?w(t):w();return(r||r===0)&&(i=d.setHours(i,+r)),(a||a===0)&&(i=d.setMinutes(i,+a)),(n||n===0)&&(i=d.setSeconds(i,+n)),d.setMilliseconds(i,0)},pe=(t,r)=>!t||!r?!1:d.isBefore(Me(t),Me(r)),oe=(t,r)=>!t||!r?!1:d.isEqual(Me(t),Me(r)),ge=(t,r)=>!t||!r?!1:d.isAfter(Me(t),Me(r)),Bt=(t,r,a)=>t&&t[0]&&t[1]?ge(a,t[0])&&pe(a,t[1]):t&&t[0]&&r?ge(a,t[0])&&pe(a,r)||pe(a,t[0])&&ge(a,r):!1,Oe=e.reactive({menuFocused:!1,shiftKeyInMenu:!1}),St=()=>{const t=n=>{Oe.menuFocused=n},r=n=>{Oe.shiftKeyInMenu!==n&&(Oe.shiftKeyInMenu=n)};return{control:e.computed(()=>({shiftKeyInMenu:Oe.shiftKeyInMenu,menuFocused:Oe.menuFocused})),setMenuFocused:t,setShiftKey:r}};function Qe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xe={},Zt={get exports(){return xe},set exports(t){xe=t}};(function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;function a(n){if(n===null||n===!0||n===!1)return NaN;var i=Number(n);return isNaN(i)?i:i<0?Math.ceil(i):Math.floor(i)}t.exports=r.default})(Zt,xe);const qt=Qe(xe);var Ke={},Xt={get exports(){return Ke},set exports(t){Ke=t}};(function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;function a(n){var i=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return i.setUTCFullYear(n.getFullYear()),n.getTime()-i.getTime()}t.exports=r.default})(Xt,Ke);const Nt=Qe(Ke);function Jt(t,r){var a=tn(r);return a.formatToParts?Ft(a,t):en(a,t)}var Qt={year:0,month:1,day:2,hour:3,minute:4,second:5};function Ft(t,r){try{for(var a=t.formatToParts(r),n=[],i=0;i<a.length;i++){var m=Qt[a[i].type];m>=0&&(n[m]=parseInt(a[i].value,10))}return n}catch(k){if(k instanceof RangeError)return[NaN];throw k}}function en(t,r){var a=t.format(r).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(a);return[n[3],n[1],n[2],n[4],n[5],n[6]]}var Fe={};function tn(t){if(!Fe[t]){var r=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),a=r==="06/25/2014, 00:00:00"||r==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";Fe[t]=a?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return Fe[t]}function et(t,r,a,n,i,m,k){var N=new Date(0);return N.setUTCFullYear(t,r,a),N.setUTCHours(n,i,m,k),N}var Tt=36e5,nn=6e4,tt={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function nt(t,r,a){var n,i;if(!t||(n=tt.timezoneZ.exec(t),n))return 0;var m;if(n=tt.timezoneHH.exec(t),n)return m=parseInt(n[1],10),Pt(m)?-(m*Tt):NaN;if(n=tt.timezoneHHMM.exec(t),n){m=parseInt(n[1],10);var k=parseInt(n[2],10);return Pt(m,k)?(i=Math.abs(m)*Tt+k*nn,m>0?-i:i):NaN}if(ln(t)){r=new Date(r||Date.now());var N=a?r:rn(r),E=rt(N,t),M=a?E:an(r,E,t);return-M}return NaN}function rn(t){return et(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function rt(t,r){var a=Jt(t,r),n=et(a[0],a[1]-1,a[2],a[3]%24,a[4],a[5],0).getTime(),i=t.getTime(),m=i%1e3;return i-=m>=0?m:1e3+m,n-i}function an(t,r,a){var n=t.getTime(),i=n-r,m=rt(new Date(i),a);if(r===m)return r;i-=m-r;var k=rt(new Date(i),a);return m===k?m:Math.max(m,k)}function Pt(t,r){return-23<=t&&t<=23&&(r==null||0<=r&&r<=59)}var At={};function ln(t){if(At[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),At[t]=!0,!0}catch{return!1}}var on=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/;const Vt=on;var at=36e5,Et=6e4,sn=2,he={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:Vt};function lt(t,r){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);var a=r||{},n=a.additionalDigits==null?sn:qt(a.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=cn(t),m=un(i.date,n),k=m.year,N=m.restDateString,E=dn(N,k);if(isNaN(E))return new Date(NaN);if(E){var M=E.getTime(),O=0,C;if(i.time&&(O=fn(i.time),isNaN(O)))return new Date(NaN);if(i.timeZone||a.timeZone){if(C=nt(i.timeZone||a.timeZone,new Date(M+O)),isNaN(C))return new Date(NaN)}else C=Nt(new Date(M+O)),C=Nt(new Date(M+O+C));return new Date(M+O+C)}else return new Date(NaN)}function cn(t){var r={},a=he.dateTimePattern.exec(t),n;if(a?(r.date=a[1],n=a[3]):(a=he.datePattern.exec(t),a?(r.date=a[1],n=a[2]):(r.date=null,n=t)),n){var i=he.timeZone.exec(n);i?(r.time=n.replace(i[1],""),r.timeZone=i[1].trim()):r.time=n}return r}function un(t,r){var a=he.YYY[r],n=he.YYYYY[r],i;if(i=he.YYYY.exec(t)||n.exec(t),i){var m=i[1];return{year:parseInt(m,10),restDateString:t.slice(m.length)}}if(i=he.YY.exec(t)||a.exec(t),i){var k=i[1];return{year:parseInt(k,10)*100,restDateString:t.slice(k.length)}}return{year:null}}function dn(t,r){if(r===null)return null;var a,n,i,m;if(t.length===0)return n=new Date(0),n.setUTCFullYear(r),n;if(a=he.MM.exec(t),a)return n=new Date(0),i=parseInt(a[1],10)-1,vt(r,i)?(n.setUTCFullYear(r,i),n):new Date(NaN);if(a=he.DDD.exec(t),a){n=new Date(0);var k=parseInt(a[1],10);return pn(r,k)?(n.setUTCFullYear(r,0,k),n):new Date(NaN)}if(a=he.MMDD.exec(t),a){n=new Date(0),i=parseInt(a[1],10)-1;var N=parseInt(a[2],10);return vt(r,i,N)?(n.setUTCFullYear(r,i,N),n):new Date(NaN)}if(a=he.Www.exec(t),a)return m=parseInt(a[1],10)-1,Ot(r,m)?_t(r,m):new Date(NaN);if(a=he.WwwD.exec(t),a){m=parseInt(a[1],10)-1;var E=parseInt(a[2],10)-1;return Ot(r,m,E)?_t(r,m,E):new Date(NaN)}return null}function fn(t){var r,a,n;if(r=he.HH.exec(t),r)return a=parseFloat(r[1].replace(",",".")),ot(a)?a%24*at:NaN;if(r=he.HHMM.exec(t),r)return a=parseInt(r[1],10),n=parseFloat(r[2].replace(",",".")),ot(a,n)?a%24*at+n*Et:NaN;if(r=he.HHMMSS.exec(t),r){a=parseInt(r[1],10),n=parseInt(r[2],10);var i=parseFloat(r[3].replace(",","."));return ot(a,n,i)?a%24*at+n*Et+i*1e3:NaN}return null}function _t(t,r,a){r=r||0,a=a||0;var n=new Date(0);n.setUTCFullYear(t,0,4);var i=n.getUTCDay()||7,m=r*7+a+1-i;return n.setUTCDate(n.getUTCDate()+m),n}var mn=[31,28,31,30,31,30,31,31,30,31,30,31],yn=[31,29,31,30,31,30,31,31,30,31,30,31];function Rt(t){return t%400===0||t%4===0&&t%100!==0}function vt(t,r,a){if(r<0||r>11)return!1;if(a!=null){if(a<1)return!1;var n=Rt(t);if(n&&a>yn[r]||!n&&a>mn[r])return!1}return!0}function pn(t,r){if(r<1)return!1;var a=Rt(t);return!(a&&r>366||!a&&r>365)}function Ot(t,r,a){return!(r<0||r>52||a!=null&&(a<0||a>6))}function ot(t,r,a){return!(t!=null&&(t<0||t>=25)||r!=null&&(r<0||r>=60)||a!=null&&(a<0||a>=60))}var Ue={},gn={get exports(){return Ue},set exports(t){Ue=t}},He={},hn={get exports(){return He},set exports(t){He=t}};(function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;function a(n,i){if(n==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var m in i)Object.prototype.hasOwnProperty.call(i,m)&&(n[m]=i[m]);return n}t.exports=r.default})(hn,He),function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=i;var a=n(He);function n(m){return m&&m.__esModule?m:{default:m}}function i(m){return(0,a.default)({},m)}t.exports=r.default}(gn,Ue);const kn=Qe(Ue);function wn(t,r,a){var n=lt(t,a),i=nt(r,n,!0),m=new Date(n.getTime()-i),k=new Date(0);return k.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),k.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),k}function bn(t,r,a){if(typeof t=="string"&&!t.match(Vt)){var n=kn(a);return n.timeZone=r,lt(t,n)}var i=lt(t,a),m=et(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()).getTime(),k=nt(r,new Date(m));return new Date(m+k)}const Dn=(t,r=3)=>{const a=[];for(let n=0;n<t.length;n+=r)a.push([t[n],t[n+1],t[n+2]]);return a},Mn=(t,r)=>{const a=[1,2,3,4,5,6,7].map(m=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${m}T00:00:00+00:00`)).slice(0,2)),n=a.slice(0,r),i=a.slice(r+1,a.length);return[a[r]].concat(...i).concat(...n)},Cn=t=>{const r=[];for(let a=+t[0];a<=+t[1];a++)r.push({value:+a,text:`${a}`});return r},$n=(t,r)=>{const a=new Intl.DateTimeFormat(t,{month:r,timeZone:"UTC"});return[1,2,3,4,5,6,7,8,9,10,11,12].map(i=>{const m=i<10?`0${i}`:i;return new Date(`2017-${m}-01T00:00:00+00:00`)}).map((i,m)=>({text:a.format(i),value:m}))},Bn=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],de=t=>{const r=e.unref(t);return r!=null&&r.$el?r==null?void 0:r.$el:r},Sn=t=>Object.assign({type:"dot"},t),Yt=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,We={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},fe=t=>t,It=t=>t===0?t:!t||isNaN(+t)?null:+t,Lt=t=>Object.assign({menuAppear:"dp-menu-appear",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down"},t),Nn=t=>Object.assign({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:r=>`Increment ${r}`,decrementValue:r=>`Decrement ${r}`,openTpOverlay:r=>`Open ${r} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",day:()=>""},t),Tn=t=>t===null?0:typeof t=="boolean"?t?2:0:+t>=2?+t:2,Pn=(t,r,a)=>t||(typeof a=="string"?a:r),An=t=>typeof t=="boolean"?t?Lt({}):!1:Lt(t),Vn=()=>({enterSubmit:!0,tabSubmit:!0,openMenu:!0,rangeSeparator:" - "}),En=t=>Object.assign({months:[],years:[],times:{hours:[],minutes:[],seconds:[]}},t),be=t=>{const r=()=>{if(t.partialRange)return null;throw new Error(We.prop("partial-range"))},a=e.computed(()=>({ariaLabels:Nn(t.ariaLabels),textInputOptions:Object.assign(Vn(),t.textInputOptions),multiCalendars:Tn(t.multiCalendars),previewFormat:Pn(t.previewFormat,t.format,m()),filters:En(t.filters),transitions:An(t.transitions),startTime:p()})),n=s=>{if(t.range)return s();throw new Error(We.prop("range"))},i=()=>{const s=t.enableSeconds?":ss":"";return t.is24?`HH:mm${s}`:`hh:mm${s} aa`},m=()=>t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?i():t.weekPicker?"MM/dd/yyyy":t.yearPicker?"yyyy":t.enableTimePicker?`MM/dd/yyyy, ${i()}`:"MM/dd/yyyy",k=(s,l)=>{if(typeof t.format=="function")return t.format(s);const f=l||m(),D=t.formatLocale?{locale:t.formatLocale}:void 0;return Array.isArray(s)?`${d.format(s[0],f,D)} ${t.modelAuto&&!s[1]?"":a.value.textInputOptions.rangeSeparator||"-"} ${s[1]?d.format(s[1],f,D):""}`:d.format(s,f,D)},N=s=>t.timezone?wn(s,t.timezone):s,E=s=>t.timezone?bn(s,t.timezone):s,M=e.computed(()=>s=>{var l;return(l=t.hideNavigation)==null?void 0:l.includes(s)}),O=s=>{const l=t.maxDate?ge(N(s),N(w(t.maxDate))):!1,f=t.minDate?pe(N(s),N(w(t.minDate))):!1,D=V(s,t.disabledDates),A=a.value.filters.months.map(X=>+X).includes(d.getMonth(s)),re=t.disabledWeekDays.length?t.disabledWeekDays.some(X=>+X===d.getDay(s)):!1,g=t.allowedDates.length?!t.allowedDates.some(X=>oe(N(w(X)),N(s))):!1,c=d.getYear(s),H=c<+t.yearRange[0]||c>+t.yearRange[1];return!(l||f||D||A||H||re||g)},C=s=>{const l={hours:d.getHours(w()),minutes:d.getMinutes(w()),seconds:t.enableSeconds?d.getSeconds(w()):0};return Object.assign(l,s)},p=()=>t.range?t.startTime&&Array.isArray(t.startTime)?[C(t.startTime[0]),C(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?C(t.startTime):null,$=s=>!O(s),I=s=>Array.isArray(s)?d.isValid(s[0])&&(s[1]?d.isValid(s[1]):!0):s?d.isValid(s):!1,_=s=>s instanceof Date?s:d.parseISO(s),G=s=>{const l=d.startOfWeek(N(s),{weekStartsOn:+t.weekStart}),f=d.endOfWeek(N(s),{weekStartsOn:+t.weekStart});return[l,f]},V=(s,l)=>Array.isArray(l)?l.some(f=>oe(N(w(f)),N(s))):l(s),v=(s,l,f)=>{let D=s?w(s):w();return(l||l===0)&&(D=d.setMonth(D,l)),f&&(D=d.setYear(D,f)),D},B=s=>d.set(w(),{hours:d.getHours(s),minutes:d.getMinutes(s),seconds:d.getSeconds(s)}),K=s=>d.set(w(),{hours:+s.hours||0,minutes:+s.minutes||0,seconds:+s.seconds||0}),F=(s,l,f,D)=>{if(!s)return!0;if(D){const L=f==="max"?d.isBefore(s,l):d.isAfter(s,l),A={seconds:0,milliseconds:0};return L||d.isEqual(d.set(s,A),d.set(l,A))}return f==="max"?s.getTime()<=l.getTime():s.getTime()>=l.getTime()},ee=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,ne=s=>Array.isArray(s)?[s[0]?B(s[0]):null,s[1]?B(s[1]):null]:B(s),S=s=>{const l=t.maxTime?K(t.maxTime):w(t.maxDate);return Array.isArray(s)?F(s[0],l,"max",!!t.maxDate)&&F(s[1],l,"max",!!t.maxDate):F(s,l,"max",!!t.maxDate)},R=(s,l)=>{const f=t.minTime?K(t.minTime):w(t.minDate);return Array.isArray(s)?F(s[0],f,"min",!!t.minDate)&&F(s[1],f,"min",!!t.minDate)&&l:F(s,f,"min",!!t.minDate)&&l},Y=s=>{let l=!0;if(!s||ee())return!0;const f=!t.minDate&&!t.maxDate?ne(s):s;return(t.maxTime||t.maxDate)&&(l=S(fe(f))),(t.minTime||t.minDate)&&(l=R(fe(f),l)),l},y=(s,l)=>{const f=w(JSON.parse(JSON.stringify(s))),D=[];for(let L=0;L<7;L++){const A=d.addDays(f,L),re=d.getMonth(A)!==l;D.push({text:t.hideOffsetDates&&re?"":A.getDate(),value:A,current:!re,classData:{}})}return D},T=(s,l)=>{const f=[],D=w(N(new Date(l,s))),L=w(N(new Date(l,s+1,0))),A=d.startOfWeek(D,{weekStartsOn:t.weekStart}),re=g=>{const c=y(g,s);if(f.push({days:c}),!f[f.length-1].days.some(H=>oe(Me(H.value),Me(L)))){const H=d.addDays(g,7);re(H)}};if(re(A),t.sixWeeks&&f.length<6){const g=6-f.length;for(let c=1;c<=g;c++){const H=f[f.length-1],X=H.days[H.days.length-1],ie=y(d.addDays(X.value,1),d.getMonth(D));f.push({days:ie})}}return f},z=(s,l,f)=>[d.set(w(s),{date:1}),d.set(w(),{month:l,year:f,date:1})],j=(s,l)=>pe(...z(t.minDate,s,l))||oe(...z(t.minDate,s,l)),Z=(s,l)=>ge(...z(t.maxDate,s,l))||oe(...z(t.maxDate,s,l)),P=(s,l,f)=>{let D=!1;return t.maxDate&&f&&Z(s,l)&&(D=!0),t.minDate&&!f&&j(s,l)&&(D=!0),D};return{checkPartialRangeValue:r,checkRangeEnabled:n,getZonedDate:N,getZonedToUtc:E,formatDate:k,getDefaultPattern:m,validateDate:O,getDefaultStartTime:p,isDisabled:$,isValidDate:I,sanitizeDate:_,getWeekFromDate:G,matchDate:V,setDateMonthOrYear:v,isValidTime:Y,getCalendarDays:T,validateMonthYearInRange:(s,l,f,D)=>{let L=!1;return D?t.minDate&&t.maxDate?L=P(s,l,f):(t.minDate&&j(s,l)||t.maxDate&&Z(s,l))&&(L=!0):L=!0,L},validateMaxDate:Z,validateMinDate:j,assignDefaultTime:C,defaults:a,hideNavigationButtons:M}},se=e.reactive({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),st=e.ref(null),je=e.ref(!1),it=e.ref(!1),ct=e.ref(!1),ut=e.ref(!1),ke=e.ref(0),ye=e.ref(0),Se=()=>{const t=e.computed(()=>je.value?[...se.selectionGrid,se.actionRow].filter(V=>V.length):it.value?[...se.timePicker[0],...se.timePicker[1],ut.value?[]:[st.value],se.actionRow].filter(V=>V.length):ct.value?[...se.monthPicker,se.actionRow]:[se.monthYear,...se.calendar,se.time,se.actionRow].filter(V=>V.length)),r=V=>{ke.value=V?ke.value+1:ke.value-1;let v=null;t.value[ye.value]&&(v=t.value[ye.value][ke.value]),v||(ke.value=V?ke.value-1:ke.value+1)},a=V=>{if(ye.value===0&&!V||ye.value===t.value.length&&V)return;ye.value=V?ye.value+1:ye.value-1,t.value[ye.value]?t.value[ye.value]&&!t.value[ye.value][ke.value]&&ke.value!==0&&(ke.value=t.value[ye.value].length-1):ye.value=V?ye.value-1:ye.value+1},n=V=>{let v=null;t.value[ye.value]&&(v=t.value[ye.value][ke.value]),v?v.focus({preventScroll:!je.value}):ke.value=V?ke.value-1:ke.value+1},i=()=>{r(!0),n(!0)},m=()=>{r(!1),n(!1)},k=()=>{a(!1),n(!0)},N=()=>{a(!0),n(!0)},E=(V,v)=>{se[v]=V},M=(V,v)=>{se[v]=V},O=()=>{ke.value=0,ye.value=0};return{buildMatrix:E,buildMultiLevelMatrix:M,setTimePickerBackRef:V=>{st.value=V},setSelectionGrid:V=>{je.value=V,O(),V||(se.selectionGrid=[])},setTimePicker:(V,v=!1)=>{it.value=V,ut.value=v,O(),V||(se.timePicker[0]=[],se.timePicker[1]=[])},setTimePickerElements:(V,v=0)=>{se.timePicker[v]=V},arrowRight:i,arrowLeft:m,arrowUp:k,arrowDown:N,clearArrowNav:()=>{se.monthYear=[],se.calendar=[],se.time=[],se.actionRow=[],se.selectionGrid=[],se.timePicker[0]=[],se.timePicker[1]=[],je.value=!1,it.value=!1,ut.value=!1,ct.value=!1,O(),st.value=null},setMonthPicker:V=>{ct.value=V,O()},refSets:se}},zt=t=>Array.isArray(t),Pe=t=>Array.isArray(t),xt=t=>Array.isArray(t)&&t.length===2,_n=(t,r,a,n,i)=>{const{getDefaultStartTime:m,isDisabled:k,sanitizeDate:N,getWeekFromDate:E,setDateMonthOrYear:M,validateMonthYearInRange:O,defaults:C}=be(t),p=e.computed({get:()=>t.internalModelValue,set:u=>{!t.readonly&&!t.disabled&&r("update:internal-model-value",u)}}),$=e.ref([]);e.watch(p,()=>{F()});const I=e.ref([{month:d.getMonth(w()),year:d.getYear(w())}]),_=e.reactive({hours:t.range?[d.getHours(w()),d.getHours(w())]:d.getHours(w()),minutes:t.range?[d.getMinutes(w()),d.getMinutes(w())]:d.getMinutes(w()),seconds:t.range?[0,0]:0}),G=e.computed(()=>u=>I.value[u]?I.value[u].month:0),V=e.computed(()=>u=>I.value[u]?I.value[u].year:0),v=e.computed(()=>t.flow&&t.flow.length&&!t.partialFlow?i.value===t.flow.length:!0),B=(u,b,U)=>{var q,ce;I.value[u]||(I.value[u]={month:0,year:0}),I.value[u].month=b===null?(q=I.value[u])==null?void 0:q.month:b,I.value[u].year=U===null?(ce=I.value[u])==null?void 0:ce.year:U},K=(u,b)=>{_[u]=b};e.onMounted(()=>{p.value||(t.startDate&&(B(0,d.getMonth(w(t.startDate)),d.getYear(w(t.startDate))),C.value.multiCalendars&&le(0)),C.value.startTime&&Z()),F(!0)});const F=(u=!1)=>{if(p.value)return Array.isArray(p.value)?($.value=p.value,Y(u)):ne(p.value);if(t.timePicker)return y();if(t.monthPicker&&!t.range)return T();if(t.yearPicker&&!t.range)return z();if(C.value.multiCalendars&&u&&!t.startDate)return ee(w(),u)},ee=(u,b=!1)=>{if((!C.value.multiCalendars||!t.multiStatic||b)&&B(0,d.getMonth(u),d.getYear(u)),C.value.multiCalendars)for(let U=1;U<C.value.multiCalendars;U++){const q=d.set(w(),{month:G.value(U-1),year:V.value(U-1)}),ce=d.add(q,{months:1});I.value[U]={month:d.getMonth(ce),year:d.getYear(ce)}}},ne=u=>{ee(u),K("hours",d.getHours(u)),K("minutes",d.getMinutes(u)),K("seconds",d.getSeconds(u))},S=(u,b)=>{ee(u[0],b);const U=(q,ce)=>[q(u[0]),u[1]?q(u[1]):_[ce][1]];K("hours",U(d.getHours,"hours")),K("minutes",U(d.getMinutes,"minutes")),K("seconds",U(d.getSeconds,"seconds"))},R=(u,b)=>{if((t.range||t.weekPicker)&&!t.multiDates)return S(u,b);if(t.multiDates){const U=u[u.length-1];return ne(U)}},Y=u=>{const b=p.value;R(b,u),C.value.multiCalendars&&t.multiCalendarsSolo&&o()},y=()=>{if(Z(),!t.range)p.value=De(w(),_.hours,_.minutes,j());else{const u=_.hours,b=_.minutes;p.value=[De(w(),u[0],b[0],j()),De(w(),u[1],b[1],j(!1))]}},T=()=>{p.value=M(w(),G.value(0),V.value(0))},z=()=>{p.value=w()},j=(u=!0)=>t.enableSeconds?Array.isArray(_.seconds)?u?_.seconds[0]:_.seconds[1]:_.seconds:0,Z=()=>{const u=m();if(u){const b=Array.isArray(u),U=b?[+u[0].hours,+u[1].hours]:+u.hours,q=b?[+u[0].minutes,+u[1].minutes]:+u.minutes,ce=b?[+u[0].seconds,+u[1].seconds]:+u.seconds;K("hours",U),K("minutes",q),t.enableSeconds&&K("seconds",ce)}},P=()=>Array.isArray(p.value)&&p.value.length?p.value[p.value.length-1]:null,o=()=>{if(Array.isArray(p.value)&&p.value.length===2){const u=w(w(p.value[1]?p.value[1]:d.addMonths(p.value[0],1))),[b,U]=[d.getMonth(p.value[0]),d.getYear(p.value[0])],[q,ce]=[d.getMonth(p.value[1]),d.getYear(p.value[1])];(b!==q||b===q&&U!==ce)&&t.multiCalendarsSolo&&B(1,d.getMonth(u),d.getYear(u))}},s=u=>{const b=d.addMonths(u,1);return{month:d.getMonth(b),year:d.getYear(b)}},l=u=>{const b=d.getMonth(w(u)),U=d.getYear(w(u));if(B(0,b,U),C.value.multiCalendars>0)for(let q=1;q<C.value.multiCalendars;q++){const ce=s(d.set(w(u),{year:G.value(q-1),month:V.value(q-1)}));B(q,ce.month,ce.year)}},f=u=>{if(p.value&&Array.isArray(p.value))if(p.value.some(b=>oe(u,b))){const b=p.value.filter(U=>!oe(U,u));p.value=b.length?b:null}else(t.multiDatesLimit&&+t.multiDatesLimit>p.value.length||!t.multiDatesLimit)&&p.value.push(u);else p.value=[u]},D=(u,b)=>{const U=ge(u,b)?b:u,q=ge(b,u)?b:u;return d.eachDayOfInterval({start:U,end:q})},L=(u,b=0)=>{if(Array.isArray(p.value)&&p.value[b]){const U=d.differenceInCalendarDays(u,p.value[b]),q=D(p.value[b],u),ce=q.length===1?0:q.filter(x=>k(x)).length,h=Math.abs(U)-ce;if(t.minRange&&t.maxRange)return h>=+t.minRange&&h<=+t.maxRange;if(t.minRange)return h>=+t.minRange;if(t.maxRange)return h<=+t.maxRange}return!0},A=u=>Array.isArray(p.value)&&p.value.length===2?t.fixedStart&&(ge(u,p.value[0])||oe(u,p.value[0]))?[p.value[0],u]:t.fixedEnd&&(pe(u,p.value[1])||oe(u,p.value[1]))?[u,p.value[1]]:(r("invalid-fixed-range",u),p.value):[],re=()=>{t.autoApply&&v.value&&r("auto-apply",t.partialFlow)},g=()=>{t.autoApply&&r("select-date")},c=u=>!d.eachDayOfInterval({start:u[0],end:u[1]}).some(U=>k(U)),H=u=>(p.value=E(w(u.value)),re()),X=u=>{const b=De(w(u.value),_.hours,_.minutes,j());t.multiDates?f(b):p.value=b,a(),re()},ie=()=>{$.value=p.value?p.value.slice():[],$.value.length===2&&!(t.fixedStart||t.fixedEnd)&&($.value=[])},Ce=(u,b)=>{const U=[w(u.value),d.addDays(w(u.value),+t.autoRange)];c(U)&&(b&&l(u.value),$.value=U)},Te=u=>{Q(u.value)||!L(u.value,t.fixedStart?0:1)||($.value=A(w(u.value)))},Q=u=>t.noDisabledRange?D($.value[0],u).some(U=>k(U)):!1,Be=(u,b)=>{if(ie(),t.autoRange)return Ce(u,b);if(t.fixedStart||t.fixedEnd)return Te(u);$.value[0]?L(w(u.value))&&!Q(u.value)&&(pe(w(u.value),w($.value[0]))?$.value.unshift(w(u.value)):$.value[1]=w(u.value)):$.value[0]=w(u.value)},$e=u=>{$.value[u]=De($.value[u],_.hours[u],_.minutes[u],j(u!==1))},we=()=>{$.value.length&&($.value[0]&&!$.value[1]?$e(0):($e(0),$e(1),a()),p.value=$.value.slice(),$.value[0]&&$.value[1]&&t.autoApply&&r("auto-apply"),$.value[0]&&!$.value[1]&&t.modelAuto&&t.autoApply&&r("auto-apply"))},Ie=(u,b=!1)=>{if(!(k(u.value)||!u.current&&t.hideOffsetDates)){if(t.weekPicker)return H(u);if(!t.range)return X(u);Pe(_.hours)&&Pe(_.minutes)&&!t.multiDates&&(Be(u,b),we())}},J=u=>{const b=u[0];return t.weekNumbers==="local"?d.getWeek(b.value,{weekStartsOn:+t.weekStart}):t.weekNumbers==="iso"?d.getISOWeek(b.value):typeof t.weekNumbers=="function"?t.weekNumbers(b.value):""},le=u=>{for(let b=u-1;b>=0;b--){const U=d.subMonths(d.set(w(),{month:G.value(b+1),year:V.value(b+1)}),1);B(b,d.getMonth(U),d.getYear(U))}for(let b=u+1;b<=C.value.multiCalendars-1;b++){const U=d.addMonths(d.set(w(),{month:G.value(b-1),year:V.value(b-1)}),1);B(b,d.getMonth(U),d.getYear(U))}},ae=u=>M(w(),G.value(u),V.value(u)),Ve=u=>De(u,_.hours,_.minutes,j()),Ee=(u,b)=>{const U=t.monthPicker?G.value(u)!==b.month||!b.fromNav:V.value(u)!==b.year;if(B(u,b.month,b.year),C.value.multiCalendars&&!t.multiCalendarsSolo&&le(u),t.monthPicker||t.yearPicker)if(t.range){if(U){let q=p.value?p.value.slice():[];q.length===2&&q[1]!==null&&(q=[]),q.length?pe(ae(u),q[0])?q.unshift(ae(u)):q[1]=ae(u):q=[ae(u)],p.value=q}}else p.value=ae(u);r("update-month-year",{instance:u,month:b.month,year:b.year}),n(t.multiCalendarsSolo?u:void 0)},yt=async(u=!1)=>{if(t.autoApply&&(t.monthPicker||t.yearPicker)){await e.nextTick();const b=t.monthPicker?u:!1;t.range?r("auto-apply",b||!p.value||p.value.length===1):r("auto-apply",b)}a()},qe=(u,b)=>{const U=d.set(w(),{month:G.value(b),year:V.value(b)}),q=u<0?d.addMonths(U,1):d.subMonths(U,1);O(d.getMonth(q),d.getYear(q),u<0,t.preventMinMaxNavigation)&&(B(b,d.getMonth(q),d.getYear(q)),C.value.multiCalendars&&!t.multiCalendarsSolo&&le(b),r("update-month-year",{instance:b,month:d.getMonth(q),year:d.getYear(q)}),n())},Le=u=>{zt(u)&&zt(p.value)&&Pe(_.hours)&&Pe(_.minutes)?(u[0]&&p.value[0]&&(p.value[0]=De(u[0],_.hours[0],_.minutes[0],j())),u[1]&&p.value[1]&&(p.value[1]=De(u[1],_.hours[1],_.minutes[1],j(!1)))):t.multiDates&&Array.isArray(p.value)?p.value[p.value.length-1]=Ve(u):!t.range&&!xt(u)&&(p.value=Ve(u)),r("time-update")},pt=(u,b=!0,U=!1)=>{const q=b?u:_.hours,ce=!b&&!U?u:_.minutes,h=U?u:_.seconds;if(t.range&&xt(p.value)&&Pe(q)&&Pe(ce)&&Pe(h)&&!t.disableTimeRangeValidation){const x=ue=>De(p.value[ue],q[ue],ce[ue],h[ue]),me=ue=>d.setMilliseconds(p.value[ue],0);if(oe(p.value[0],p.value[1])&&(d.isAfter(x(0),me(1))||d.isBefore(x(1),me(0))))return}if(K("hours",q),K("minutes",ce),K("seconds",h),p.value)if(t.multiDates){const x=P();x&&Le(x)}else Le(p.value);else t.timePicker&&Le(t.range?[w(),w()]:w());a()},gt=(u,b)=>{t.monthChangeOnScroll&&qe(t.monthChangeOnScroll!=="inverse"?-u.deltaY:u.deltaY,b)},ht=(u,b,U=!1)=>{t.monthChangeOnArrows&&t.vertical===U&&Xe(u,b)},Xe=(u,b)=>{qe(u==="right"?-1:1,b)};return{time:_,month:G,year:V,modelValue:p,calendars:I,monthYearSelect:yt,isDisabled:k,updateTime:pt,getWeekNum:J,selectDate:Ie,updateMonthYear:Ee,handleScroll:gt,getMarker:u=>t.markers.find(b=>oe(N(u.value),N(b.date))),handleArrow:ht,handleSwipe:Xe,selectCurrentDate:()=>{t.range?p.value&&Array.isArray(p.value)&&p.value[0]?p.value=pe(w(),p.value[0])?[w(),p.value[0]]:[p.value[0],w()]:p.value=[w()]:p.value=w(),g()},presetDateRange:(u,b)=>{b||u.length&&u.length<=2&&t.range&&(p.value=u.map(U=>w(U)),g(),t.multiCalendars&&e.nextTick().then(()=>F(!0)))}}},Rn=(t,r,a)=>{const n=e.ref(),{getZonedToUtc:i,getZonedDate:m,formatDate:k,getDefaultPattern:N,checkRangeEnabled:E,checkPartialRangeValue:M,isValidDate:O,setDateMonthOrYear:C,defaults:p}=be(r),$=e.ref(""),I=e.toRef(r,"format");e.watch(n,()=>{t("internal-model-change",n.value)}),e.watch(I,()=>{s()});const _=c=>{const H=c||w();return r.modelType?f(H):{hours:d.getHours(H),minutes:d.getMinutes(H),seconds:r.enableSeconds?d.getSeconds(H):0}},G=c=>r.modelType?f(c):{month:d.getMonth(c),year:d.getYear(c)},V=c=>Array.isArray(c)?E(()=>[d.setYear(w(),c[0]),c[1]?d.setYear(w(),c[1]):M()]):d.setYear(w(),+c),v=(c,H)=>(typeof c=="string"||typeof c=="number")&&r.modelType?l(c):H,B=c=>Array.isArray(c)?[v(c[0],De(null,+c[0].hours,+c[0].minutes,c[0].seconds)),v(c[1],De(null,+c[1].hours,+c[1].minutes,c[1].seconds))]:v(c,De(null,c.hours,c.minutes,c.seconds)),K=c=>Array.isArray(c)?E(()=>[v(c[0],C(null,+c[0].month,+c[0].year)),v(c[1],c[1]?C(null,+c[1].month,+c[1].year):M())]):v(c,C(null,+c.month,+c.year)),F=c=>{if(Array.isArray(c))return c.map(H=>l(H));throw new Error(We.dateArr("multi-dates"))},ee=c=>{if(Array.isArray(c))return[w(c[0]),w(c[1])];throw new Error(We.dateArr("week-picker"))},ne=c=>r.modelAuto?Array.isArray(c)?[l(c[0]),l(c[1])]:r.autoApply?[l(c)]:[l(c),null]:Array.isArray(c)?E(()=>[l(c[0]),c[1]?l(c[1]):M()]):l(c),S=()=>{Array.isArray(n.value)&&r.range&&n.value.length===1&&n.value.push(M())},R=()=>{const c=n.value;return[f(c[0]),c[1]?f(c[1]):M()]},Y=()=>n.value[1]?R():f(fe(n.value[0])),y=()=>(n.value||[]).map(c=>f(c)),T=()=>(S(),r.modelAuto?Y():r.multiDates?y():Array.isArray(n.value)?E(()=>R()):f(fe(n.value))),z=c=>c?r.timePicker?B(fe(c)):r.monthPicker?K(fe(c)):r.yearPicker?V(fe(c)):r.multiDates?F(fe(c)):r.weekPicker?ee(fe(c)):ne(fe(c)):null,j=c=>{const H=z(c);O(fe(H))?(n.value=fe(H),s()):(n.value=null,$.value="")},Z=()=>{var H;const c=X=>{var ie;return d.format(X,(ie=p.value.textInputOptions)==null?void 0:ie.format)};return`${c(n.value[0])} ${(H=p.value.textInputOptions)==null?void 0:H.rangeSeparator} ${n.value[1]?c(n.value[1]):""}`},P=()=>{var c;return a.value&&n.value?Array.isArray(n.value)?Z():d.format(n.value,(c=p.value.textInputOptions)==null?void 0:c.format):k(n.value)},o=()=>{var c;return n.value?r.multiDates?n.value.map(H=>k(H)).join("; "):r.textInput&&typeof((c=p.value.textInputOptions)==null?void 0:c.format)=="string"?P():k(n.value):""},s=()=>{!r.format||typeof r.format=="string"?$.value=o():$.value=r.format(n.value)},l=c=>{if(r.utc){const H=new Date(c);return r.utc==="preserve"?new Date(H.getTime()+H.getTimezoneOffset()*6e4):H}return r.modelType?r.modelType==="date"||r.modelType==="timestamp"?m(new Date(c)):r.modelType==="format"&&(typeof r.format=="string"||!r.format)?d.parse(c,N(),new Date):m(d.parse(c,r.modelType,new Date)):m(new Date(c))},f=c=>c?r.utc?Gt(c,r.utc==="preserve"):r.modelType?r.modelType==="timestamp"?+i(c):r.modelType==="format"&&(typeof r.format=="string"||!r.format)?k(i(c)):k(i(c),r.modelType):i(c):"",D=c=>{t("update:model-value",c)},L=c=>Array.isArray(n.value)?[c(n.value[0]),n.value[1]?c(n.value[1]):M()]:c(fe(n.value)),A=c=>D(fe(L(c)));return{inputValue:$,internalModelValue:n,checkBeforeEmit:()=>n.value?r.range?r.partialRange?n.value.length>=1:n.value.length===2:!!n.value:!1,parseExternalModelValue:j,formatInputValue:s,emitModelValue:()=>(s(),r.monthPicker?A(G):r.timePicker?A(_):r.yearPicker?A(d.getYear):r.weekPicker?D(n.value):D(T()))}},vn=(t,r)=>{const{validateMonthYearInRange:a,validateMaxDate:n,validateMinDate:i,defaults:m}=be(t),k=(C,p)=>{let $=C;return m.value.filters.months.includes(d.getMonth($))?($=p?d.addMonths(C,1):d.subMonths(C,1),k($,p)):$},N=(C,p)=>{let $=C;return m.value.filters.years.includes(d.getYear($))?($=p?d.addYears(C,1):d.subYears(C,1),N($,p)):$},E=C=>{const p=d.set(new Date,{month:t.month,year:t.year});let $=C?d.addMonths(p,1):d.subMonths(p,1),I=d.getMonth($),_=d.getYear($);m.value.filters.months.includes(I)&&($=k($,C),I=d.getMonth($),_=d.getYear($)),m.value.filters.years.includes(_)&&($=N($,C),_=d.getYear($)),a(I,_,C,t.preventMinMaxNavigation)&&M(I,_)},M=(C,p)=>{r("update-month-year",{month:C,year:p})},O=e.computed(()=>C=>{if(!t.preventMinMaxNavigation||C&&!t.maxDate||!C&&!t.minDate)return!1;const p=d.set(new Date,{month:t.month,year:t.year}),$=C?d.addMonths(p,1):d.subMonths(p,1),I=[d.getMonth($),d.getYear($)];return C?!n(...I):!i(...I)});return{handleMonthYearChange:E,isDisabled:O,updateMonthYear:M}};var Ge=(t=>(t.center="center",t.left="left",t.right="right",t))(Ge||{});const On=(t,r,a,n)=>{const i=e.ref({top:"0",left:"0",transform:"none"}),m=e.ref(!1),k=e.toRef(n,"teleportCenter");e.watch(k,()=>{_()});const N=S=>{if(n.teleport){const R=S.getBoundingClientRect();return{left:R.left+window.scrollX,top:R.top+window.scrollY}}return{top:0,left:0}},E=(S,R)=>{i.value.left=`${S+R}px`,i.value.transform="translateX(-100%)"},M=S=>{i.value.left=`${S}px`,i.value.transform="translateX(0)"},O=(S,R,Y=!1)=>{n.position===Ge.left&&M(S),n.position===Ge.right&&E(S,R),n.position===Ge.center&&(i.value.left=`${S+R/2}px`,i.value.transform=Y?"translate(-50%, -50%)":"translateX(-50%)")},C=S=>{const{width:R,height:Y}=S.getBoundingClientRect(),{top:y,left:T}=n.altPosition?n.altPosition(S):N(S);return{top:+y,left:+T,width:R,height:Y}},p=()=>{const S=de(r);if(S){const{top:R,left:Y,width:y,height:T}=C(S);i.value.top=`${R+T/2}px`,i.value.transform="translateY(-50%)",O(Y,y,!0)}},$=()=>{i.value.left="50%",i.value.top="50%",i.value.transform="translate(-50%, -50%)",i.value.position="fixed"},I=()=>{const S=de(r),{top:R,left:Y,transform:y}=n.altPosition(S);i.value={top:`${R}px`,left:`${Y}px`,transform:y||""}},_=(S=!0)=>{if(!n.inline)return k.value?$():n.altPosition!==null?I():(S&&a("recalculate-position"),F())},G=({inputEl:S,menuEl:R,left:Y,width:y})=>{window.screen.width>768&&O(Y,y),B(S,R)},V=(S,R)=>{const{top:Y,left:y,height:T,width:z}=C(S);i.value.top=`${T+Y+ +n.offset}px`,G({inputEl:S,menuEl:R,left:y,width:z}),m.value=!1},v=(S,R)=>{const{top:Y,left:y,width:T}=C(S),{height:z}=R.getBoundingClientRect();i.value.top=`${Y-z-+n.offset}px`,G({inputEl:S,menuEl:R,left:y,width:T}),m.value=!0},B=(S,R)=>{if(n.autoPosition){const{left:Y,width:y}=C(S),{left:T,right:z}=R.getBoundingClientRect();return T<=0||T<=Y?M(Y):z>=document.documentElement.clientWidth?E(Y,y):O(Y,y)}},K=(S,R)=>{const{height:Y}=R.getBoundingClientRect(),{top:y,height:T}=S.getBoundingClientRect(),j=window.innerHeight-y-T,Z=y;return Y<=j?V(S,R):Y>j&&Y<=Z?v(S,R):j>=Z?V(S,R):v(S,R)},F=()=>{const S=de(r),R=de(t);if(S&&R)return n.autoPosition?K(S,R):V(S,R)},ee=function(S){if(S){const R=S.scrollHeight>S.clientHeight,y=window.getComputedStyle(S).overflowY.indexOf("hidden")!==-1;return R&&!y}return!0},ne=function(S){return!S||S===document.body?window:ee(S)?S:ne(S.parentNode)};return{openOnTop:m,menuPosition:i,setMenuPosition:_,setInitialPosition:p,getScrollableParent:ne}},_e=[{name:"clock-icon",use:["time","calendar"]},{name:"arrow-left",use:["month-year","calendar"]},{name:"arrow-right",use:["month-year","calendar"]},{name:"arrow-up",use:["time","calendar"]},{name:"arrow-down",use:["time","calendar"]},{name:"calendar-icon",use:["month-year","time","calendar"]},{name:"day",use:["calendar"]},{name:"month-overlay-value",use:["calendar","month-year"]},{name:"year-overlay-value",use:["calendar","month-year"]},{name:"year-overlay",use:["month-year"]},{name:"month-overlay",use:["month-year"]},{name:"month-overlay-header",use:["month-year"]},{name:"year-overlay-header",use:["month-year"]},{name:"hours-overlay-value",use:["calendar","time"]},{name:"minutes-overlay-value",use:["calendar","time"]},{name:"seconds-overlay-value",use:["calendar","time"]},{name:"hours",use:["calendar","time"]},{name:"minutes",use:["calendar","time"]},{name:"month",use:["calendar","month-year"]},{name:"year",use:["calendar","month-year"]},{name:"action-select",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar"]},{name:"marker-tooltip",use:["calendar"]},{name:"now-button",use:[]},{name:"time-picker-overlay",use:["calendar","time"]},{name:"am-pm-button",use:["calendar","time"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year"]},{name:"time-picker",use:["menu"]},{name:"action-row",use:["action"]}],Yn=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],In={all:()=>_e,monthYear:()=>_e.filter(t=>t.use.includes("month-year")),input:()=>Yn,timePicker:()=>_e.filter(t=>t.use.includes("time")),action:()=>_e.filter(t=>t.use.includes("action")),calendar:()=>_e.filter(t=>t.use.includes("calendar")),menu:()=>_e.filter(t=>t.use.includes("menu"))},Ae=(t,r,a)=>{const n=[];return In[r]().forEach(i=>{t[i.name]&&n.push(i.name)}),a&&a.length&&a.forEach(i=>{i.slot&&n.push(i.slot)}),n},Ze=t=>({transitionName:e.computed(()=>a=>t&&typeof t!="boolean"?a?t.open:t.close:""),showTransition:!!t}),Ne={multiCalendars:{type:[Boolean,Number,String],default:null},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},closeOnScroll:{type:Boolean,default:!1},autoPosition:{type:Boolean,default:!0},closeOnAutoApply:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},multiCalendarsSolo:{type:Boolean,default:!1},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:()=>[]},showNowButton:{type:Boolean,default:!1},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},modeHeight:{type:[Number,String],default:255},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetRanges:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},keepActionRow:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},multiStatic:{type:Boolean,default:!0},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleport:{type:[String,Boolean],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function],default:null},calendarClassName:{type:String,default:null},noSwipe:{type:Boolean,default:!1},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},inlineWithInput:{type:Boolean,default:!1},textInputOptions:{type:Object,default:()=>null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:Boolean,default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},onClickOutside:{type:Function,default:null},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:Boolean,default:!1}},Ln=["aria-label","aria-disabled","aria-readonly"],zn={key:1,class:"dp__input_wrap"},xn=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","onKeydown"],Kn={key:2,class:"dp__input_icon"},Un={key:4,class:"dp__clear_icon"},Hn=e.defineComponent({__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...Ne},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur"],setup(t,{expose:r,emit:a}){const n=t,{getDefaultPattern:i,isValidDate:m,defaults:k,getDefaultStartTime:N,assignDefaultTime:E}=be(n),M=e.ref(),O=e.ref(null),C=e.ref(!1),p=e.computed(()=>({dp__pointer:!n.disabled&&!n.readonly&&!n.textInput,dp__disabled:n.disabled,dp__input_readonly:!n.textInput,dp__input:!0,dp__input_icon_pad:!n.hideInputIcon,dp__input_valid:n.state,dp__input_invalid:n.state===!1,dp__input_focus:C.value||n.isMenuOpen,dp__input_reg:!n.textInput,[n.inputClassName]:!!n.inputClassName})),$=()=>{a("set-input-date",null),n.autoApply&&(a("set-empty-date"),M.value=null)},I=y=>{var z;const T=N();return jt(y,((z=k.value.textInputOptions)==null?void 0:z.format)||i(),T||E({}),n.inputValue)},_=y=>{const{rangeSeparator:T}=k.value.textInputOptions,[z,j]=y.split(`${T}`);if(z){const Z=I(z.trim()),P=j?I(j.trim()):null,o=Z&&P?[Z,P]:[Z];M.value=Z?o:null}},G=y=>{if(n.range)_(y);else if(n.multiDates){const T=y.split(";");M.value=T.map(z=>I(z.trim())).filter(z=>z)}else M.value=I(y)},V=y=>{var z;const{value:T}=y.target;T!==""?((z=k.value.textInputOptions)!=null&&z.openMenu&&!n.isMenuOpen&&a("open"),G(T),a("set-input-date",M.value)):$(),a("update:input-value",T)},v=()=>{var y,T;(y=k.value.textInputOptions)!=null&&y.enterSubmit&&m(M.value)&&n.inputValue!==""?(a("set-input-date",M.value,!0),M.value=null):(T=k.value.textInputOptions)!=null&&T.enterSubmit&&n.inputValue===""&&(M.value=null,a("clear"))},B=()=>{var y,T;(y=k.value.textInputOptions)!=null&&y.tabSubmit&&m(M.value)&&n.inputValue!==""?(a("set-input-date",M.value,!0),M.value=null):(T=k.value.textInputOptions)!=null&&T.tabSubmit&&n.inputValue===""&&(M.value=null,a("clear"))},K=()=>{C.value=!0,a("focus")},F=y=>{var T;y.preventDefault(),y.stopImmediatePropagation(),y.stopPropagation(),n.textInput&&((T=k.value.textInputOptions)!=null&&T.openMenu)&&!n.inlineWithInput?n.isMenuOpen?k.value.textInputOptions.enterSubmit&&a("select-date"):a("open"):n.textInput||a("toggle")},ee=()=>{C.value=!1,n.isMenuOpen||a("blur"),n.autoApply&&n.textInput&&M.value&&(a("set-input-date",M.value),a("select-date"),M.value=null)},ne=()=>{a("clear")},S=y=>{if(!n.textInput){if(y.code==="Tab")return;y.preventDefault()}};return r({focusInput:()=>{O.value&&O.value.focus({preventScroll:!0})},setParsedDate:y=>{M.value=y}}),(y,T)=>{var z;return e.openBlock(),e.createElementBlock("div",{onClick:F,"aria-label":(z=e.unref(k).ariaLabels)==null?void 0:z.input,role:"textbox","aria-multiline":"false","aria-disabled":y.disabled,"aria-readonly":y.readonly},[y.$slots.trigger&&!y.$slots["dp-input"]&&!y.inline?e.renderSlot(y.$slots,"trigger",{key:0}):e.createCommentVNode("",!0),!y.$slots.trigger&&(!y.inline||y.inlineWithInput)?(e.openBlock(),e.createElementBlock("div",zn,[y.$slots["dp-input"]&&!y.$slots.trigger&&!y.inline?e.renderSlot(y.$slots,"dp-input",{key:0,value:t.inputValue,onInput:V,onEnter:v,onTab:B,onClear:ne}):e.createCommentVNode("",!0),y.$slots["dp-input"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("input",{key:1,ref_key:"inputRef",ref:O,id:y.uid?`dp-input-${y.uid}`:void 0,name:y.name,class:e.normalizeClass(e.unref(p)),inputmode:y.textInput?"text":"none",placeholder:y.placeholder,disabled:y.disabled,readonly:y.readonly,required:y.required,value:t.inputValue,autocomplete:y.autocomplete,onInput:V,onKeydown:[e.withKeys(F,["enter"]),e.withKeys(B,["tab"]),S],onBlur:ee,onFocus:K,onKeypress:S},null,42,xn)),y.$slots["input-icon"]&&!y.hideInputIcon?(e.openBlock(),e.createElementBlock("span",Kn,[e.renderSlot(y.$slots,"input-icon")])):e.createCommentVNode("",!0),!y.$slots["input-icon"]&&!y.hideInputIcon&&!y.$slots["dp-input"]?(e.openBlock(),e.createBlock(e.unref(ze),{key:3,class:"dp__input_icon dp__input_icons"})):e.createCommentVNode("",!0),y.$slots["clear-icon"]&&t.inputValue&&y.clearable&&!y.disabled&&!y.readonly?(e.openBlock(),e.createElementBlock("span",Un,[e.renderSlot(y.$slots,"clear-icon",{clear:ne})])):e.createCommentVNode("",!0),y.clearable&&!y.$slots["clear-icon"]&&t.inputValue&&!y.disabled&&!y.readonly?(e.openBlock(),e.createBlock(e.unref(Wt),{key:5,class:"dp__clear_icon dp__input_icons","data-test":"clear-icon",onClick:e.withModifiers(ne,["stop","prevent"])},null,8,["onClick"])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],8,Ln)}}}),Wn={class:"dp__selection_preview"},jn={class:"dp__action_buttons"},Gn=["onKeydown"],Zn=e.defineComponent({__name:"ActionRow",props:{calendarWidth:{type:Number,default:0},menuMount:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},...Ne},emits:["close-picker","select-date","invalid-select"],setup(t,{emit:r}){const a=t,{formatDate:n,isValidTime:i,defaults:m}=be(a),{buildMatrix:k}=Se(),N=e.ref(null),E=e.ref(null);e.onMounted(()=>{a.arrowNavigation&&k([de(N),de(E)],"actionRow")});const M=e.computed(()=>a.range&&!a.partialRange&&a.internalModelValue?a.internalModelValue.length===2:!0),O=e.computed(()=>!p.value||!$.value||!M.value),C=e.computed(()=>({dp__action:!0,dp__select:!0,dp__action_disabled:O.value})),p=e.computed(()=>!a.enableTimePicker||a.ignoreTimeValidation?!0:i(a.internalModelValue)),$=e.computed(()=>a.monthPicker?a.range&&Array.isArray(a.internalModelValue)?!a.internalModelValue.filter(K=>!V(K)).length:V(a.internalModelValue):!0),I=()=>{const B=m.value.previewFormat;return a.timePicker||a.monthPicker,B(fe(a.internalModelValue))},_=()=>{const B=a.internalModelValue;return m.value.multiCalendars>0?`${n(B[0])} - ${n(B[1])}`:[n(B[0]),n(B[1])]},G=e.computed(()=>!a.internalModelValue||!a.menuMount?"":typeof m.value.previewFormat=="string"?Array.isArray(a.internalModelValue)?a.internalModelValue.length===2&&a.internalModelValue[1]?_():a.multiDates?a.internalModelValue.map(B=>`${n(B)}`):a.modelAuto?`${n(a.internalModelValue[0])}`:`${n(a.internalModelValue[0])} -`:n(a.internalModelValue):I()),V=B=>{if(!a.monthPicker)return!0;let K=!0;return a.minDate&&a.maxDate?ge(w(B),w(a.minDate))&&pe(w(B),w(a.maxDate)):(a.minDate&&(K=ge(w(B),w(a.minDate))||oe(w(B),w(a.minDate))),a.maxDate&&(K=pe(w(B),w(a.maxDate))||oe(w(B),w(a.maxDate))),K)},v=()=>{p.value&&$.value&&M.value?r("select-date"):r("invalid-select")};return(B,K)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__action_row",style:e.normalizeStyle(t.calendarWidth?{width:`${t.calendarWidth}px`}:{})},[B.$slots["action-row"]?e.renderSlot(B.$slots,"action-row",e.normalizeProps(e.mergeProps({key:0},{internalModelValue:t.internalModelValue,disabled:e.unref(O),selectDate:()=>B.$emit("select-date"),closePicker:()=>B.$emit("close-picker")}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",Wn,[B.$slots["action-preview"]?e.renderSlot(B.$slots,"action-preview",{key:0,value:t.internalModelValue}):e.createCommentVNode("",!0),B.$slots["action-preview"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[Array.isArray(e.unref(G))?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(e.toDisplayString(e.unref(G)),1)],64)),Array.isArray(e.unref(G))?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(e.unref(G),(F,ee)=>(e.openBlock(),e.createElementBlock("div",{key:ee},e.toDisplayString(F),1))),128)):e.createCommentVNode("",!0)],64))]),e.createElementVNode("div",jn,[B.$slots["action-select"]?e.renderSlot(B.$slots,"action-select",{key:0,value:t.internalModelValue}):e.createCommentVNode("",!0),B.$slots["action-select"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[B.inline?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("span",{key:0,class:"dp__action dp__cancel",ref_key:"cancelButtonRef",ref:N,tabindex:"0",onClick:K[0]||(K[0]=F=>B.$emit("close-picker")),onKeydown:[K[1]||(K[1]=e.withKeys(F=>B.$emit("close-picker"),["enter"])),K[2]||(K[2]=e.withKeys(F=>B.$emit("close-picker"),["space"]))]},e.toDisplayString(B.cancelText),545)),e.createElementVNode("span",{class:e.normalizeClass(e.unref(C)),tabindex:"0",onKeydown:[e.withKeys(v,["enter"]),e.withKeys(v,["space"])],onClick:v,"data-test":"select-button",ref_key:"selectButtonRef",ref:E},e.toDisplayString(B.selectText),43,Gn)],64))])],64))],4))}}),qn=["aria-label"],Xn={class:"dp__calendar_header",role:"row"},Jn={key:0,class:"dp__calendar_header_item",role:"gridcell"},Qn=e.createElementVNode("div",{class:"dp__calendar_header_separator"},null,-1),Fn=["aria-label"],er={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},tr={class:"dp__cell_inner"},nr=["aria-selected","aria-disabled","aria-label","data-test","onClick","onKeydown","onMouseenter","onMouseleave"],rr=e.defineComponent({__name:"Calendar",props:{mappedDates:{type:Array,default:()=>[]},getWeekNum:{type:Function,default:()=>""},specificMode:{type:Boolean,default:!1},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Ne},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:r,emit:a}){const n=t,{buildMultiLevelMatrix:i}=Se(),{setDateMonthOrYear:m,defaults:k}=be(n),N=e.ref(null),E=e.ref({bottom:"",left:"",transform:""}),M=e.ref([]),O=e.ref(null),C=e.ref(!0),p=e.ref(""),$=e.ref({startX:0,endX:0,startY:0,endY:0}),I=e.ref([]),_=e.ref({left:"50%"}),G=e.computed(()=>n.dayNames?Array.isArray(n.dayNames)?n.dayNames:n.dayNames(n.locale,+n.weekStart):Mn(n.locale,+n.weekStart));e.onMounted(()=>{a("mount",{cmp:"calendar",refs:M}),n.noSwipe||O.value&&(O.value.addEventListener("touchstart",y,{passive:!1}),O.value.addEventListener("touchend",T,{passive:!1}),O.value.addEventListener("touchmove",z,{passive:!1})),n.monthChangeOnScroll&&O.value&&O.value.addEventListener("wheel",P,{passive:!1})});const V=o=>o?n.vertical?"vNext":"next":n.vertical?"vPrevious":"previous",v=(o,s)=>{if(n.transitions){const l=Me(m(w(),n.month,n.year));p.value=ge(Me(m(w(),o,s)),l)?k.value.transitions[V(!0)]:k.value.transitions[V(!1)],C.value=!1,e.nextTick(()=>{C.value=!0})}},B=e.computed(()=>({dp__calendar_wrap:!0,[n.calendarClassName]:!!n.calendarClassName})),K=e.computed(()=>o=>{const s=Sn(o);return{dp__marker_dot:s.type==="dot",dp__marker_line:s.type==="line"}}),F=e.computed(()=>o=>oe(o,N.value)),ee=e.computed(()=>({dp__calendar:!0,dp__calendar_next:k.value.multiCalendars>0&&n.instance!==0})),ne=e.computed(()=>o=>n.hideOffsetDates?o.current:!0),S=e.computed(()=>n.specificMode?{height:`${n.modeHeight}px`}:void 0),R=async(o,s,l)=>{var f,D;if(a("set-hover-date",o),(D=(f=o.marker)==null?void 0:f.tooltip)!=null&&D.length){const L=de(M.value[s][l]);if(L){const{width:A,height:re}=L.getBoundingClientRect();N.value=o.value;let g={left:`${A/2}px`},c=-50;if(await e.nextTick(),I.value[0]){const{left:H,width:X}=I.value[0].getBoundingClientRect();H<0&&(g={left:"0"},c=0,_.value.left=`${A/2}px`),window.innerWidth<H+X&&(g={right:"0"},c=0,_.value.left=`${X-A/2}px`)}E.value={bottom:`${re}px`,...g,transform:`translateX(${c}%)`},a("tooltip-open",o.marker)}}},Y=o=>{N.value&&(N.value=null,E.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),a("tooltip-close",o.marker))},y=o=>{$.value.startX=o.changedTouches[0].screenX,$.value.startY=o.changedTouches[0].screenY},T=o=>{$.value.endX=o.changedTouches[0].screenX,$.value.endY=o.changedTouches[0].screenY,j()},z=o=>{n.vertical&&!n.inline&&o.preventDefault()},j=()=>{const o=n.vertical?"Y":"X";Math.abs($.value[`start${o}`]-$.value[`end${o}`])>10&&a("handle-swipe",$.value[`start${o}`]>$.value[`end${o}`]?"right":"left")},Z=(o,s,l)=>{o&&(Array.isArray(M.value[s])?M.value[s][l]=o:M.value[s]=[o]),n.arrowNavigation&&i(M.value,"calendar")},P=o=>{n.monthChangeOnScroll&&(o.preventDefault(),a("handle-scroll",o))};return r({triggerTransition:v}),(o,s)=>{var l;return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(e.unref(ee))},[e.createElementVNode("div",{style:e.normalizeStyle(e.unref(S))},[t.specificMode?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:0,ref_key:"calendarWrapRef",ref:O,class:e.normalizeClass(e.unref(B)),role:"grid","aria-label":(l=e.unref(k).ariaLabels)==null?void 0:l.calendarWrap},[e.createElementVNode("div",Xn,[o.weekNumbers?(e.openBlock(),e.createElementBlock("div",Jn,e.toDisplayString(o.weekNumName),1)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(G),(f,D)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__calendar_header_item",role:"gridcell",key:D,"data-test":"calendar-header"},[o.$slots["calendar-header"]?e.renderSlot(o.$slots,"calendar-header",{key:0,day:f,index:D}):e.createCommentVNode("",!0),o.$slots["calendar-header"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(f),1)],64))]))),128))]),Qn,e.createVNode(e.Transition,{name:p.value,css:!!o.transitions},{default:e.withCtx(()=>{var f;return[C.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__calendar",role:"grid","aria-label":(f=e.unref(k).ariaLabels)==null?void 0:f.calendarDays},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.mappedDates,(D,L)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__calendar_row",role:"row",key:L},[o.weekNumbers?(e.openBlock(),e.createElementBlock("div",er,[e.createElementVNode("div",tr,e.toDisplayString(t.getWeekNum(D.days)),1)])):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(D.days,(A,re)=>{var g,c,H;return e.openBlock(),e.createElementBlock("div",{role:"gridcell",class:"dp__calendar_item",ref_for:!0,ref:X=>Z(X,L,re),key:re+L,"aria-selected":A.classData.dp__active_date||A.classData.dp__range_start||A.classData.dp__range_start,"aria-disabled":A.classData.dp__cell_disabled,"aria-label":(c=(g=e.unref(k).ariaLabels)==null?void 0:g.day)==null?void 0:c.call(g,A),tabindex:"0","data-test":A.value,onClick:e.withModifiers(X=>o.$emit("select-date",A),["stop","prevent"]),onKeydown:[e.withKeys(X=>o.$emit("select-date",A),["enter"]),e.withKeys(X=>o.$emit("handle-space",A),["space"])],onMouseenter:X=>R(A,L,re),onMouseleave:X=>Y(A)},[e.createElementVNode("div",{class:e.normalizeClass(["dp__cell_inner",A.classData])},[o.$slots.day&&e.unref(ne)(A)?e.renderSlot(o.$slots,"day",{key:0,day:+A.text,date:A.value}):e.createCommentVNode("",!0),o.$slots.day?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(A.text),1)],64)),A.marker&&e.unref(ne)(A)?(e.openBlock(),e.createElementBlock("div",{key:2,class:e.normalizeClass(e.unref(K)(A.marker)),style:e.normalizeStyle(A.marker.color?{backgroundColor:A.marker.color}:{})},null,6)):e.createCommentVNode("",!0),e.unref(F)(A.value)?(e.openBlock(),e.createElementBlock("div",{key:3,class:"dp__marker_tooltip",ref_for:!0,ref_key:"activeTooltip",ref:I,style:e.normalizeStyle(E.value)},[(H=A.marker)!=null&&H.tooltip?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__tooltip_content",onClick:s[0]||(s[0]=e.withModifiers(()=>{},["stop"]))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(A.marker.tooltip,(X,ie)=>(e.openBlock(),e.createElementBlock("div",{key:ie,class:"dp__tooltip_text"},[o.$slots["marker-tooltip"]?e.renderSlot(o.$slots,"marker-tooltip",{key:0,tooltip:X,day:A.value}):e.createCommentVNode("",!0),o.$slots["marker-tooltip"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",{class:"dp__tooltip_mark",style:e.normalizeStyle(X.color?{backgroundColor:X.color}:{})},null,4),e.createElementVNode("div",null,e.toDisplayString(X.text),1)],64))]))),128)),e.createElementVNode("div",{class:"dp__arrow_bottom_tp",style:e.normalizeStyle(_.value)},null,4)])):e.createCommentVNode("",!0)],4)):e.createCommentVNode("",!0)],2)],40,nr)}),128))]))),128))],8,Fn)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])],10,qn))],4)],2)}}}),ar=["aria-label","aria-disabled"],dt=e.defineComponent({__name:"ActionIcon",props:{ariaLabel:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["activate","set-ref"],setup(t,{emit:r}){const a=e.ref(null);return e.onMounted(()=>r("set-ref",a)),(n,i)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__month_year_col_nav",onClick:i[0]||(i[0]=m=>n.$emit("activate")),onKeydown:[i[1]||(i[1]=e.withKeys(m=>n.$emit("activate"),["enter"])),i[2]||(i[2]=e.withKeys(m=>n.$emit("activate"),["space"]))],tabindex:"0",role:"button","aria-label":t.ariaLabel,"aria-disabled":t.disabled,ref_key:"elRef",ref:a},[e.createElementVNode("div",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:t.disabled}])},[e.renderSlot(n.$slots,"default")],2)],40,ar))}}),lr=["onKeydown"],or={class:"dp__selection_grid_header"},sr=["aria-selected","aria-disabled","data-test","onClick","onKeydown","onMouseover"],ir=["aria-label","onKeydown"],Ye=e.defineComponent({__name:"SelectionGrid",props:{items:{type:Array,default:()=>[]},modelValue:{type:[String,Number],default:null},multiModelValue:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:[Number,String],default:null},maxValue:{type:[Number,String],default:null},year:{type:Number,default:0},skipActive:{type:Boolean,default:!1},headerRefs:{type:Array,default:()=>[]},skipButtonRef:{type:Boolean,default:!1},monthPicker:{type:Boolean,default:!1},yearPicker:{type:Boolean,default:!1},escClose:{type:Boolean,default:!0},type:{type:String,default:null},arrowNavigation:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},ariaLabels:{type:Object,default:()=>({})},hideNavigation:{type:Array,default:()=>[]}},emits:["update:model-value","selected","toggle","reset-flow"],setup(t,{expose:r,emit:a}){const n=t,{setSelectionGrid:i,buildMultiLevelMatrix:m,setMonthPicker:k}=Se(),{hideNavigationButtons:N}=be(n),E=e.ref(!1),M=e.ref(null),O=e.ref(null),C=e.ref([]),p=e.ref(),$=e.ref(null),I=e.ref(0),_=e.ref(null);e.onBeforeUpdate(()=>{M.value=null}),e.onMounted(()=>{e.nextTick().then(()=>R()),V(),G(!0)}),e.onUnmounted(()=>G(!1));const G=P=>{var o;n.arrowNavigation&&((o=n.headerRefs)!=null&&o.length?k(P):i(P))},V=()=>{const P=de(O);P&&(n.textInput||P.focus({preventScroll:!0}),E.value=P.clientHeight<P.scrollHeight)},v=e.computed(()=>({dp__overlay:!0})),B=e.computed(()=>({dp__overlay_col:!0})),K=P=>n.skipActive?!1:P.value===n.modelValue,F=e.computed(()=>n.items.map(P=>P.filter(o=>o).map(o=>{var f,D,L;const s=n.disabledValues.some(A=>A===o.value)||S(o.value),l=(f=n.multiModelValue)!=null&&f.length?(D=n.multiModelValue)==null?void 0:D.some(A=>oe(A,d.setYear(n.monthPicker?d.setMonth(new Date,o.value):new Date,n.monthPicker?n.year:o.value))):K(o);return{...o,className:{dp__overlay_cell_active:l,dp__overlay_cell:!l,dp__overlay_cell_disabled:s,dp__overlay_cell_active_disabled:s&&l,dp__overlay_cell_pad:!0,dp__cell_in_between:(L=n.multiModelValue)!=null&&L.length?y(o.value):!1}}}))),ee=e.computed(()=>({dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:E.value,dp__button_bottom:n.autoApply})),ne=e.computed(()=>{var P,o;return{dp__overlay_container:!0,dp__container_flex:((P=n.items)==null?void 0:P.length)<=6,dp__container_block:((o=n.items)==null?void 0:o.length)>6}}),S=P=>{const o=n.maxValue||n.maxValue===0,s=n.minValue||n.minValue===0;return!o&&!s?!1:o&&s?+P>+n.maxValue||+P<+n.minValue:o?+P>+n.maxValue:s?+P<+n.minValue:!1},R=()=>{const P=de(M),o=de(O),s=de($),l=de(_),f=s?s.getBoundingClientRect().height:0;o&&(I.value=o.getBoundingClientRect().height-f),P&&l&&(l.scrollTop=P.offsetTop-l.offsetTop-(I.value/2-P.getBoundingClientRect().height)-f)},Y=P=>{!n.disabledValues.some(o=>o===P)&&!S(P)&&(a("update:model-value",P),a("selected"))},y=P=>{const o=n.monthPicker?n.year:P;return Bt(n.multiModelValue,d.setYear(n.monthPicker?d.setMonth(new Date,p.value||0):new Date,n.monthPicker?o:p.value||o),d.setYear(n.monthPicker?d.setMonth(new Date,P):new Date,o))},T=()=>{a("toggle"),a("reset-flow")},z=()=>{n.escClose&&T()},j=(P,o,s,l)=>{P&&(o.value===+n.modelValue&&!n.disabledValues.includes(o.value)&&(M.value=P),n.arrowNavigation&&(Array.isArray(C.value[s])?C.value[s][l]=P:C.value[s]=[P],Z()))},Z=()=>{var o,s;const P=(o=n.headerRefs)!=null&&o.length?[n.headerRefs].concat(C.value):C.value.concat([n.skipButtonRef?[]:[$.value]]);m(fe(P),(s=n.headerRefs)!=null&&s.length?"monthPicker":"selectionGrid")};return r({focusGrid:V}),(P,o)=>{var s;return e.openBlock(),e.createElementBlock("div",{ref_key:"gridWrapRef",ref:O,class:e.normalizeClass(e.unref(v)),role:"dialog",tabindex:"0",onKeydown:e.withKeys(z,["esc"])},[e.createElementVNode("div",{class:e.normalizeClass(e.unref(ne)),ref_key:"containerRef",ref:_,role:"grid",style:e.normalizeStyle({height:`${I.value}px`})},[e.createElementVNode("div",or,[e.renderSlot(P.$slots,"header")]),P.$slots.overlay?e.renderSlot(P.$slots,"overlay",{key:0}):(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(e.unref(F),(l,f)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__overlay_row",key:f,role:"row"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l,(D,L)=>(e.openBlock(),e.createElementBlock("div",{role:"gridcell",class:e.normalizeClass(e.unref(B)),key:D.value,"aria-selected":D.value===t.modelValue&&!t.disabledValues.includes(D.value),"aria-disabled":D.className.dp__overlay_cell_disabled,ref_for:!0,ref:A=>j(A,D,f,L),tabindex:"0","data-test":D.text,onClick:A=>Y(D.value),onKeydown:[e.withKeys(A=>Y(D.value),["enter"]),e.withKeys(A=>Y(D.value),["space"])],onMouseover:A=>p.value=D.value},[e.createElementVNode("div",{class:e.normalizeClass(D.className)},[P.$slots.item?e.renderSlot(P.$slots,"item",{key:0,item:D}):e.createCommentVNode("",!0),P.$slots.item?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(D.text),1)],64))],2)],42,sr))),128))]))),128))],6),P.$slots["button-icon"]?e.withDirectives((e.openBlock(),e.createElementBlock("div",{key:0,role:"button","aria-label":(s=t.ariaLabels)==null?void 0:s.toggleOverlay,class:e.normalizeClass(e.unref(ee)),tabindex:"0",ref_key:"toggleButton",ref:$,onClick:T,onKeydown:e.withKeys(T,["enter"])},[e.renderSlot(P.$slots,"button-icon")],42,ir)),[[e.vShow,!e.unref(N)(t.type)]]):e.createCommentVNode("",!0)],42,lr)}}}),cr=["aria-label"],Kt=e.defineComponent({__name:"RegularPicker",props:{ariaLabel:{type:String,default:""},showSelectionGrid:{type:Boolean,default:!1},modelValue:{type:Number,default:null},items:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:Number,default:null},maxValue:{type:Number,default:null},slotName:{type:String,default:""},overlaySlot:{type:String,default:""},headerRefs:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},type:{type:String,default:null},transitions:{type:[Object,Boolean],default:!1},arrowNavigation:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},ariaLabels:{type:Object,default:()=>({})},hideNavigation:{type:Array,default:()=>[]}},emits:["update:model-value","toggle","set-ref"],setup(t,{emit:r}){const a=t,{transitionName:n,showTransition:i}=Ze(a.transitions),m=e.ref(null);return e.onMounted(()=>r("set-ref",m)),(k,N)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",{class:"dp__month_year_select",onClick:N[0]||(N[0]=E=>k.$emit("toggle")),onKeydown:[N[1]||(N[1]=e.withKeys(E=>k.$emit("toggle"),["enter"])),N[2]||(N[2]=e.withKeys(E=>k.$emit("toggle"),["space"]))],role:"button","aria-label":t.ariaLabel,tabindex:"0",ref_key:"elRef",ref:m},[e.renderSlot(k.$slots,"default")],40,cr),e.createVNode(e.Transition,{name:e.unref(n)(t.showSelectionGrid),css:e.unref(i)},{default:e.withCtx(()=>[t.showSelectionGrid?(e.openBlock(),e.createBlock(Ye,e.mergeProps({key:0},{modelValue:t.modelValue,items:t.items,disabledValues:t.disabledValues,minValue:t.minValue,maxValue:t.maxValue,escClose:t.escClose,type:t.type,arrowNavigation:t.arrowNavigation,textInput:t.textInput,autoApply:t.autoApply,ariaLabels:t.ariaLabels,hideNavigation:t.hideNavigation},{"header-refs":[],"onUpdate:modelValue":N[3]||(N[3]=E=>k.$emit("update:model-value",E)),onToggle:N[4]||(N[4]=E=>k.$emit("toggle"))}),e.createSlots({"button-icon":e.withCtx(()=>[k.$slots["calendar-icon"]?e.renderSlot(k.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),k.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(ze),{key:1}))]),_:2},[k.$slots[t.slotName]?{name:"item",fn:e.withCtx(({item:E})=>[e.renderSlot(k.$slots,t.slotName,{item:E})]),key:"0"}:void 0,k.$slots[t.overlaySlot]?{name:"overlay",fn:e.withCtx(()=>[e.renderSlot(k.$slots,t.overlaySlot)]),key:"1"}:void 0,k.$slots[`${t.overlaySlot}-header`]?{name:"header",fn:e.withCtx(()=>[e.renderSlot(k.$slots,`${t.overlaySlot}-header`)]),key:"2"}:void 0]),1040)):e.createCommentVNode("",!0)]),_:3},8,["name","css"])],64))}}),ur={class:"dp__month_year_row"},dr={class:"dp__month_year_wrap"},fr={class:"dp__month_picker_header"},mr=["aria-label"],yr=["aria-label"],pr=["aria-label"],gr=e.defineComponent({__name:"MonthYearPicker",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},internalModelValue:{type:[Date,Array],default:null},...Ne},emits:["update-month-year","month-year-select","mount","reset-flow","overlay-closed"],setup(t,{expose:r,emit:a}){const n=t,{defaults:i}=be(n),{transitionName:m,showTransition:k}=Ze(i.value.transitions),{buildMatrix:N}=Se(),{handleMonthYearChange:E,isDisabled:M,updateMonthYear:O}=vn(n,a),C=e.ref(!1),p=e.ref(!1),$=e.ref([null,null,null,null]),I=e.ref(null),_=e.ref(null),G=e.ref(null);e.onMounted(()=>{a("mount")});const V=g=>({get:()=>n[g],set:c=>{const H=g==="month"?"year":"month";a("update-month-year",{[g]:c,[H]:n[H]}),a("month-year-select",g==="year"),g==="month"?f(!0):D(!0)}}),v=e.computed(V("month")),B=e.computed(V("year")),K=g=>{const c=d.getYear(w(g));return n.year===c},F=e.computed(()=>n.monthPicker?Array.isArray(n.disabledDates)?n.disabledDates.map(g=>w(g)).filter(g=>K(g)).map(g=>d.getMonth(g)):[]:[]),ee=e.computed(()=>g=>{const c=g==="month";return{showSelectionGrid:(c?C:p).value,items:(c?P:o).value,disabledValues:i.value.filters[c?"months":"years"].concat(F.value),minValue:(c?Y:S).value,maxValue:(c?y:R).value,headerRefs:c&&n.monthPicker?[I.value,_.value,G.value]:[],escClose:n.escClose,transitions:i.value.transitions,ariaLabels:i.value.ariaLabels,textInput:n.textInput,autoApply:n.autoApply,arrowNavigation:n.arrowNavigation,hideNavigation:n.hideNavigation}}),ne=e.computed(()=>g=>({month:n.month,year:n.year,items:g==="month"?n.months:n.years,instance:n.instance,updateMonthYear:O,toggle:g==="month"?f:D})),S=e.computed(()=>n.minDate?d.getYear(w(n.minDate)):null),R=e.computed(()=>n.maxDate?d.getYear(w(n.maxDate)):null),Y=e.computed(()=>{if(n.minDate&&S.value){if(S.value>n.year)return 12;if(S.value===n.year)return d.getMonth(w(n.minDate))}return null}),y=e.computed(()=>n.maxDate&&R.value?R.value<n.year?-1:R.value===n.year?d.getMonth(w(n.maxDate)):null:null),T=e.computed(()=>n.range&&n.internalModelValue&&(n.monthPicker||n.yearPicker)?n.internalModelValue:[]),z=g=>g.reverse(),j=(g,c=!1)=>{const H=[],X=ie=>c?z(ie):ie;for(let ie=0;ie<g.length;ie+=3){const Ce=[g[ie],g[ie+1],g[ie+2]];H.push(X(Ce))}return c?H.reverse():H},Z=e.computed(()=>{const g=n.months.find(c=>c.value===n.month);return g||{text:"",value:0}}),P=e.computed(()=>j(n.months)),o=e.computed(()=>j(n.years,n.reverseYears)),s=e.computed(()=>i.value.multiCalendars?n.multiCalendarsSolo?!0:n.instance===0:!0),l=e.computed(()=>i.value.multiCalendars?n.multiCalendarsSolo?!0:n.instance===i.value.multiCalendars-1:!0),f=(g=!1)=>{L(g),C.value=!C.value,C.value||a("overlay-closed")},D=(g=!1)=>{L(g),p.value=!p.value,p.value||a("overlay-closed")},L=g=>{g||a("reset-flow")},A=(g=!1)=>{M.value(g)||a("update-month-year",{year:g?n.year+1:n.year-1,month:n.month,fromNav:!0})},re=(g,c)=>{n.arrowNavigation&&($.value[c]=de(g),N($.value,"monthYear"))};return r({toggleMonthPicker:f,toggleYearPicker:D,handleMonthYearChange:E}),(g,c)=>{var H,X,ie,Ce,Te;return e.openBlock(),e.createElementBlock("div",ur,[g.$slots["month-year"]?e.renderSlot(g.$slots,"month-year",e.normalizeProps(e.mergeProps({key:0},{month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:e.unref(O),handleMonthYearChange:e.unref(E),instance:t.instance}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[!g.monthPicker&&!g.yearPicker?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.unref(s)&&!g.vertical?(e.openBlock(),e.createBlock(dt,{key:0,"aria-label":(H=e.unref(i).ariaLabels)==null?void 0:H.prevMonth,disabled:e.unref(M)(!1),onActivate:c[0]||(c[0]=Q=>e.unref(E)(!1)),onSetRef:c[1]||(c[1]=Q=>re(Q,0))},{default:e.withCtx(()=>[g.$slots["arrow-left"]?e.renderSlot(g.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),g.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(wt),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.createElementVNode("div",dr,[e.createVNode(Kt,e.mergeProps({type:"month","slot-name":"month-overlay-val","overlay-slot":"overlay-month","aria-label":(X=e.unref(i).ariaLabels)==null?void 0:X.openMonthsOverlay,modelValue:e.unref(v),"onUpdate:modelValue":c[2]||(c[2]=Q=>e.isRef(v)?v.value=Q:null)},e.unref(ee)("month"),{onToggle:f,onSetRef:c[3]||(c[3]=Q=>re(Q,1))}),e.createSlots({default:e.withCtx(()=>[g.$slots.month?e.renderSlot(g.$slots,"month",e.normalizeProps(e.mergeProps({key:0},e.unref(Z)))):e.createCommentVNode("",!0),g.$slots.month?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(e.unref(Z).text),1)],64))]),_:2},[g.$slots["calendar-icon"]?{name:"calendar-icon",fn:e.withCtx(()=>[e.renderSlot(g.$slots,"calendar-icon")]),key:"0"}:void 0,g.$slots["month-overlay-value"]?{name:"month-overlay-val",fn:e.withCtx(({item:Q})=>[e.renderSlot(g.$slots,"month-overlay-value",{text:Q.text,value:Q.value})]),key:"1"}:void 0,g.$slots["month-overlay"]?{name:"overlay-month",fn:e.withCtx(()=>[e.renderSlot(g.$slots,"month-overlay",e.normalizeProps(e.guardReactiveProps(e.unref(ne)("month"))))]),key:"2"}:void 0,g.$slots["month-overlay-header"]?{name:"overlay-month-header",fn:e.withCtx(()=>[e.renderSlot(g.$slots,"month-overlay-header",{toggle:f})]),key:"3"}:void 0]),1040,["aria-label","modelValue"]),e.createVNode(Kt,e.mergeProps({type:"year","slot-name":"year-overlay-val","overlay-slot":"overlay-year","aria-label":(ie=e.unref(i).ariaLabels)==null?void 0:ie.openYearsOverlay,modelValue:e.unref(B),"onUpdate:modelValue":c[4]||(c[4]=Q=>e.isRef(B)?B.value=Q:null)},e.unref(ee)("year"),{onToggle:D,onSetRef:c[5]||(c[5]=Q=>re(Q,2))}),e.createSlots({default:e.withCtx(()=>[g.$slots.year?e.renderSlot(g.$slots,"year",{key:0,year:t.year}):e.createCommentVNode("",!0),g.$slots.year?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(t.year),1)],64))]),_:2},[g.$slots["calendar-icon"]?{name:"calendar-icon",fn:e.withCtx(()=>[e.renderSlot(g.$slots,"calendar-icon")]),key:"0"}:void 0,g.$slots["year-overlay-value"]?{name:"year-overlay-val",fn:e.withCtx(({item:Q})=>[e.renderSlot(g.$slots,"year-overlay-value",{text:Q.text,value:Q.value})]),key:"1"}:void 0,g.$slots["year-overlay"]?{name:"overlay-year",fn:e.withCtx(()=>[e.renderSlot(g.$slots,"year-overlay",e.normalizeProps(e.guardReactiveProps(e.unref(ne)("year"))))]),key:"2"}:void 0,g.$slots["year-overlay-header"]?{name:"overlay-year-header",fn:e.withCtx(()=>[e.renderSlot(g.$slots,"year-overlay-header",{toggle:D})]),key:"3"}:void 0]),1040,["aria-label","modelValue"])]),e.unref(s)&&g.vertical?(e.openBlock(),e.createBlock(dt,{key:1,"aria-label":(Ce=e.unref(i).ariaLabels)==null?void 0:Ce.prevMonth,disabled:e.unref(M)(!1),onActivate:c[6]||(c[6]=Q=>e.unref(E)(!1))},{default:e.withCtx(()=>[g.$slots["arrow-up"]?e.renderSlot(g.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),g.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Mt),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.unref(l)?(e.openBlock(),e.createBlock(dt,{key:2,ref:"rightIcon",disabled:e.unref(M)(!0),"aria-label":(Te=e.unref(i).ariaLabels)==null?void 0:Te.nextMonth,onActivate:c[7]||(c[7]=Q=>e.unref(E)(!0)),onSetRef:c[8]||(c[8]=Q=>re(Q,3))},{default:e.withCtx(()=>[g.$slots[g.vertical?"arrow-down":"arrow-right"]?e.renderSlot(g.$slots,g.vertical?"arrow-down":"arrow-right",{key:0}):e.createCommentVNode("",!0),g.$slots[g.vertical?"arrow-down":"arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(g.vertical?e.unref(Ct):e.unref(bt)),{key:1}))]),_:3},8,["disabled","aria-label"])):e.createCommentVNode("",!0)],64)):e.createCommentVNode("",!0),g.monthPicker?(e.openBlock(),e.createBlock(Ye,e.mergeProps({key:1},e.unref(ee)("month"),{"skip-active":g.range,year:t.year,"multi-model-value":e.unref(T),"month-picker":"",modelValue:e.unref(v),"onUpdate:modelValue":c[17]||(c[17]=Q=>e.isRef(v)?v.value=Q:null),onToggle:f,onSelected:c[18]||(c[18]=Q=>g.$emit("overlay-closed"))}),e.createSlots({header:e.withCtx(()=>{var Q,Be,$e;return[e.createElementVNode("div",fr,[e.createElementVNode("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpPrevIconRef",ref:I,onClick:c[9]||(c[9]=we=>A(!1)),onKeydown:c[10]||(c[10]=e.withKeys(we=>A(!1),["enter"]))},[e.createElementVNode("div",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:e.unref(M)(!1)}]),role:"button","aria-label":(Q=e.unref(i).ariaLabels)==null?void 0:Q.prevMonth},[g.$slots["arrow-left"]?e.renderSlot(g.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),g.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(wt),{key:1}))],10,mr)],544),e.createElementVNode("div",{class:"dp__pointer",role:"button",ref_key:"mpYearButtonRef",ref:_,"aria-label":(Be=e.unref(i).ariaLabels)==null?void 0:Be.openYearsOverlay,tabindex:"0",onClick:c[11]||(c[11]=()=>D(!1)),onKeydown:c[12]||(c[12]=e.withKeys(()=>D(!1),["enter"]))},[g.$slots.year?e.renderSlot(g.$slots,"year",{key:0,year:t.year}):e.createCommentVNode("",!0),g.$slots.year?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(t.year),1)],64))],40,yr),e.createElementVNode("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpNextIconRef",ref:G,onClick:c[13]||(c[13]=we=>A(!0)),onKeydown:c[14]||(c[14]=e.withKeys(we=>A(!0),["enter"]))},[e.createElementVNode("div",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:e.unref(M)(!0)}]),role:"button","aria-label":($e=e.unref(i).ariaLabels)==null?void 0:$e.nextMonth},[g.$slots["arrow-right"]?e.renderSlot(g.$slots,"arrow-right",{key:0}):e.createCommentVNode("",!0),g.$slots["arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(bt),{key:1}))],10,pr)],544)]),e.createVNode(e.Transition,{name:e.unref(m)(p.value),css:e.unref(k)},{default:e.withCtx(()=>[p.value?(e.openBlock(),e.createBlock(Ye,e.mergeProps({key:0},e.unref(ee)("year"),{modelValue:e.unref(B),"onUpdate:modelValue":c[15]||(c[15]=we=>e.isRef(B)?B.value=we:null),onToggle:D,onSelected:c[16]||(c[16]=we=>g.$emit("overlay-closed"))}),e.createSlots({"button-icon":e.withCtx(()=>[g.$slots["calendar-icon"]?e.renderSlot(g.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),g.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(ze),{key:1}))]),_:2},[g.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:we})=>[e.renderSlot(g.$slots,"year-overlay-value",{text:we.text,value:we.value})]),key:"0"}:void 0]),1040,["modelValue"])):e.createCommentVNode("",!0)]),_:3},8,["name","css"])]}),_:2},[g.$slots["month-overlay-value"]?{name:"item",fn:e.withCtx(({item:Q})=>[e.renderSlot(g.$slots,"month-overlay-value",{text:Q.text,value:Q.value})]),key:"0"}:void 0]),1040,["skip-active","year","multi-model-value","modelValue"])):e.createCommentVNode("",!0),g.yearPicker?(e.openBlock(),e.createBlock(Ye,e.mergeProps({key:2},e.unref(ee)("year"),{modelValue:e.unref(B),"onUpdate:modelValue":c[19]||(c[19]=Q=>e.isRef(B)?B.value=Q:null),"multi-model-value":e.unref(T),"skip-active":g.range,"skip-button-ref":"","year-picker":"",onToggle:D,onSelected:c[20]||(c[20]=Q=>g.$emit("overlay-closed"))}),e.createSlots({_:2},[g.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:Q})=>[e.renderSlot(g.$slots,"year-overlay-value",{text:Q.text,value:Q.value})]),key:"0"}:void 0]),1040,["modelValue","multi-model-value","skip-active"])):e.createCommentVNode("",!0)],64))])}}}),hr={key:0,class:"dp__time_input"},kr=["aria-label","onKeydown","onClick"],wr=["aria-label","data-test","onKeydown","onClick"],br=["aria-label","onKeydown","onClick"],Dr={key:0},Mr=["aria-label","onKeydown"],Cr=e.defineComponent({__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},...Ne},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed"],setup(t,{expose:r,emit:a}){const n=t,{setTimePickerElements:i,setTimePickerBackRef:m}=Se(),{defaults:k}=be(n),{transitionName:N,showTransition:E}=Ze(k.value.transitions),M=e.reactive({hours:!1,minutes:!1,seconds:!1}),O=e.ref("AM"),C=e.ref(null),p=e.ref([]);e.onMounted(()=>{a("mounted")});const $=e.computed(()=>o=>!!(n.maxTime&&n.maxTime[o]&&n.maxTime[o]<n[o]+ +n[`${o}Increment`])),I=e.computed(()=>o=>!!(n.minTime&&n.minTime[o]&&n.minTime[o]>n[o]-+n[`${o}Increment`])),_=(o,s)=>d.add(d.set(w(),o),s),G=(o,s)=>d.sub(d.set(w(),o),s),V=e.computed(()=>({dp__time_col:!0,dp__time_col_reg:!n.enableSeconds&&n.is24,dp__time_col_reg_with_button:!n.enableSeconds&&!n.is24,dp__time_col_sec:n.enableSeconds&&n.is24,dp__time_col_sec_with_button:n.enableSeconds&&!n.is24})),v=e.computed(()=>{const o=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return n.enableSeconds?o.concat([{type:"",separator:!0},{type:"seconds"}]):o}),B=e.computed(()=>v.value.filter(o=>!o.separator)),K=e.computed(()=>o=>{if(o==="hours"){const s=T(n.hours);return{text:s<10?`0${s}`:`${s}`,value:s}}return{text:n[o]<10?`0${n[o]}`:`${n[o]}`,value:n[o]}}),F=o=>{const s=n.is24?24:12,l=o==="hours"?s:60,f=+n[`${o}GridIncrement`],D=o==="hours"&&!n.is24?f:0,L=[];for(let A=D;A<l;A+=f)L.push({value:A,text:A<10?`0${A}`:`${A}`});return o==="hours"&&!n.is24&&L.push({value:0,text:"12"}),Dn(L)},ee=(o,s)=>{const l=n.minTime&&n.minTime[s],f=n.maxTime&&n.maxTime[s];return l&&f?o<l||o>f:l?o<l:f?o>f:!1},ne=e.computed(()=>o=>F(o).flat().filter(l=>l).map(l=>l.value).filter(l=>ee(l,o))),S=o=>n[`no${o[0].toUpperCase()+o.slice(1)}Overlay`],R=o=>{S(o)||(M[o]=!M[o],M[o]||a("overlay-closed"))},Y=o=>o==="hours"?d.getHours:o==="minutes"?d.getMinutes:d.getSeconds,y=(o,s=!0)=>{const l=s?_:G;(s?$.value(o):I.value(o))||a(`update:${o}`,Y(o)(l({[o]:+n[o]},{[o]:+n[`${o}Increment`]})))},T=o=>n.is24?o:(o>=12?O.value="PM":O.value="AM",Bn(o)),z=()=>{O.value==="PM"?(O.value="AM",a("update:hours",n.hours-12)):(O.value="PM",a("update:hours",n.hours+12))},j=o=>{M[o]=!0},Z=(o,s,l)=>{if(o&&n.arrowNavigation){Array.isArray(p.value[s])?p.value[s][l]=o:p.value[s]=[o];const f=p.value.reduce((D,L)=>L.map((A,re)=>[...D[re]||[],L[re]]),[]);m(n.closeTimePickerBtn),C.value&&(f[1]=f[1].concat(C.value)),i(f,n.order)}},P=(o,s)=>o==="hours"&&!n.is24?a(`update:${o}`,O.value==="PM"?s+12:s):a(`update:${o}`,s);return r({openChildCmp:j}),(o,s)=>{var l;return o.disabled?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",hr,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(v),(f,D)=>{var L,A,re;return e.openBlock(),e.createElementBlock("div",{key:D,class:e.normalizeClass(e.unref(V))},[f.separator?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(" : ")],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",{class:e.normalizeClass({dp__inc_dec_button:!0,dp__inc_dec_button_disabled:e.unref($)(f.type)}),role:"button","data-test":"time-inc-btn","aria-label":(L=e.unref(k).ariaLabels)==null?void 0:L.incrementValue(f.type),tabindex:"0",onKeydown:[e.withKeys(g=>y(f.type),["enter"]),e.withKeys(g=>y(f.type),["space"])],onClick:g=>y(f.type),ref_for:!0,ref:g=>Z(g,D,0)},[o.$slots["arrow-up"]?e.renderSlot(o.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),o.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Mt),{key:1}))],42,kr),e.createElementVNode("div",{role:"button","aria-label":(A=e.unref(k).ariaLabels)==null?void 0:A.openTpOverlay(f.type),class:e.normalizeClass(S(f.type)?"":"dp__time_display"),tabindex:"0","data-test":`${f.type}-toggle-overlay-btn`,onKeydown:[e.withKeys(g=>R(f.type),["enter"]),e.withKeys(g=>R(f.type),["space"])],onClick:g=>R(f.type),ref_for:!0,ref:g=>Z(g,D,1)},[o.$slots[f.type]?e.renderSlot(o.$slots,f.type,{key:0,text:e.unref(K)(f.type).text,value:e.unref(K)(f.type).value}):e.createCommentVNode("",!0),o.$slots[f.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(e.unref(K)(f.type).text),1)],64))],42,wr),e.createElementVNode("div",{class:e.normalizeClass({dp__inc_dec_button:!0,dp__inc_dec_button_disabled:e.unref(I)(f.type)}),role:"button","data-test":"time-dec-btn","aria-label":(re=e.unref(k).ariaLabels)==null?void 0:re.decrementValue(f.type),tabindex:"0",onKeydown:[e.withKeys(g=>y(f.type,!1),["enter"]),e.withKeys(g=>y(f.type,!1),["space"])],onClick:g=>y(f.type,!1),ref_for:!0,ref:g=>Z(g,D,2)},[o.$slots["arrow-down"]?e.renderSlot(o.$slots,"arrow-down",{key:0}):e.createCommentVNode("",!0),o.$slots["arrow-down"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Ct),{key:1}))],42,br)],64))],2)}),128)),o.is24?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Dr,[o.$slots["am-pm-button"]?e.renderSlot(o.$slots,"am-pm-button",{key:0,toggle:z,value:O.value}):e.createCommentVNode("",!0),o.$slots["am-pm-button"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,ref_key:"amPmButton",ref:C,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(l=e.unref(k).ariaLabels)==null?void 0:l.amPmButton,tabindex:"0",onClick:z,onKeydown:[e.withKeys(e.withModifiers(z,["prevent"]),["enter"]),e.withKeys(e.withModifiers(z,["prevent"]),["space"])]},e.toDisplayString(O.value),41,Mr))])),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(B),(f,D)=>(e.openBlock(),e.createBlock(e.Transition,{key:D,name:e.unref(N)(M[f.type]),css:e.unref(E)},{default:e.withCtx(()=>[M[f.type]?(e.openBlock(),e.createBlock(Ye,{key:0,items:F(f.type),"disabled-values":e.unref(k).filters.times[f.type].concat(e.unref(ne)(f.type)),"esc-close":o.escClose,"aria-labels":e.unref(k).ariaLabels,"hide-navigation":o.hideNavigation,"onUpdate:modelValue":L=>P(f.type,L),onSelected:L=>R(f.type),onToggle:L=>R(f.type),onResetFlow:s[0]||(s[0]=L=>o.$emit("reset-flow")),type:f.type},e.createSlots({"button-icon":e.withCtx(()=>[o.$slots["clock-icon"]?e.renderSlot(o.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),o.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Dt),{key:1}))]),_:2},[o.$slots[`${f.type}-overlay-value`]?{name:"item",fn:e.withCtx(({item:L})=>[e.renderSlot(o.$slots,`${f.type}-overlay-value`,{text:L.text,value:L.value})]),key:"0"}:void 0]),1032,["items","disabled-values","esc-close","aria-labels","hide-navigation","onUpdate:modelValue","onSelected","onToggle","type"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),$r=["aria-label"],Br={class:"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"},Sr={key:1,class:"dp__overlay_row"},Nr=["aria-label"],Tr=e.defineComponent({__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},internalModelValue:{type:[Date,Array],default:null},...Ne},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed"],setup(t,{expose:r,emit:a}){const n=t,{buildMatrix:i,setTimePicker:m}=Se(),k=e.useSlots(),{hideNavigationButtons:N,defaults:E}=be(n),{transitionName:M,showTransition:O}=Ze(E.value.transitions),C=e.ref(null),p=e.ref(null),$=e.ref([]),I=e.ref(null);e.onMounted(()=>{a("mount"),!n.timePicker&&n.arrowNavigation?i([de(C.value)],"time"):m(!0,n.timePicker)});const _=e.computed(()=>n.range&&n.modelAuto?Yt(n.internalModelValue):!0),G=e.ref(!1),V=y=>({hours:Array.isArray(n.hours)?n.hours[y]:n.hours,minutes:Array.isArray(n.minutes)?n.minutes[y]:n.minutes,seconds:Array.isArray(n.seconds)?n.seconds[y]:n.seconds}),v=e.computed(()=>{const y=[];if(n.range)for(let T=0;T<2;T++)y.push(V(T));else y.push(V(0));return y}),B=(y,T=!1,z="")=>{T||a("reset-flow"),G.value=y,y&&a("overlay-opened"),n.arrowNavigation&&(m(y),y||a("overlay-closed")),e.nextTick(()=>{z!==""&&$.value[0]&&$.value[0].openChildCmp(z)})},K=e.computed(()=>({dp__button:!0,dp__button_bottom:n.autoApply})),F=Ae(k,"timePicker"),ee=(y,T,z)=>n.range?T===0?[y,v.value[1][z]]:[v.value[0][z],y]:y,ne=y=>{a("update:hours",y)},S=y=>{a("update:minutes",y)},R=y=>{a("update:seconds",y)},Y=()=>{I.value&&n.arrowNavigation&&I.value.focus({preventScroll:!0})};return r({toggleTimePicker:B}),(y,T)=>{var z;return e.openBlock(),e.createElementBlock("div",null,[y.timePicker?e.createCommentVNode("",!0):e.withDirectives((e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(e.unref(K)),role:"button","aria-label":(z=e.unref(E).ariaLabels)==null?void 0:z.openTimePicker,tabindex:"0","data-test":"open-time-picker-btn",ref_key:"openTimePickerBtn",ref:C,onKeydown:[T[0]||(T[0]=e.withKeys(j=>B(!0),["enter"])),T[1]||(T[1]=e.withKeys(j=>B(!0),["space"]))],onClick:T[2]||(T[2]=j=>B(!0))},[y.$slots["clock-icon"]?e.renderSlot(y.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),y.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Dt),{key:1}))],42,$r)),[[e.vShow,!e.unref(N)("time")]]),e.createVNode(e.Transition,{name:e.unref(M)(G.value),css:e.unref(O)},{default:e.withCtx(()=>{var j;return[G.value||y.timePicker?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__overlay",ref_key:"overlayRef",ref:I,tabindex:"0"},[e.createElementVNode("div",Br,[y.$slots["time-picker-overlay"]?e.renderSlot(y.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:ne,setMinutes:S,setSeconds:R}):e.createCommentVNode("",!0),y.$slots["time-picker-overlay"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Sr,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(v),(Z,P)=>e.withDirectives((e.openBlock(),e.createBlock(Cr,e.mergeProps({key:P},{...y.$props,order:P,hours:Z.hours,minutes:Z.minutes,seconds:Z.seconds,closeTimePickerBtn:p.value,disabled:P===0?y.fixedStart:y.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:$,"onUpdate:hours":o=>ne(ee(o,P,"hours")),"onUpdate:minutes":o=>S(ee(o,P,"minutes")),"onUpdate:seconds":o=>R(ee(o,P,"seconds")),onMounted:Y,onOverlayClosed:Y}),e.createSlots({_:2},[e.renderList(e.unref(F),(o,s)=>({name:o,fn:e.withCtx(l=>[e.renderSlot(y.$slots,o,e.normalizeProps(e.guardReactiveProps(l)))])}))]),1040,["onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[e.vShow,P===0?!0:e.unref(_)]])),128))])),y.timePicker?e.createCommentVNode("",!0):e.withDirectives((e.openBlock(),e.createElementBlock("div",{key:2,ref_key:"closeTimePickerBtn",ref:p,class:e.normalizeClass(e.unref(K)),role:"button","aria-label":(j=e.unref(E).ariaLabels)==null?void 0:j.closeTimePicker,tabindex:"0",onKeydown:[T[3]||(T[3]=e.withKeys(Z=>B(!1),["enter"])),T[4]||(T[4]=e.withKeys(Z=>B(!1),["space"]))],onClick:T[5]||(T[5]=Z=>B(!1))},[y.$slots["calendar-icon"]?e.renderSlot(y.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),y.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(ze),{key:1}))],42,Nr)),[[e.vShow,!e.unref(N)("time")]])])],512)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])])}}}),Pr=(t,r)=>{const{isDisabled:a,matchDate:n,getWeekFromDate:i}=be(r),m=e.ref(null),k=e.ref(w()),N=l=>{!l.current&&r.hideOffsetDates||(m.value=l.value)},E=()=>{m.value=null},M=l=>Array.isArray(t.value)&&r.range&&t.value[0]&&m.value?l?ge(m.value,t.value[0]):pe(m.value,t.value[0]):!0,O=(l,f)=>{const D=()=>t.value?f?t.value[0]||null:t.value[1]:null,L=t.value&&Array.isArray(t.value)?D():null;return oe(w(l.value),L)},C=l=>{const f=Array.isArray(t.value)?t.value[0]:null;return l?!pe(m.value||null,f):!0},p=(l,f=!0)=>(r.range||r.weekPicker)&&Array.isArray(t.value)?r.hideOffsetDates&&!l.current?!1:oe(w(l.value),t.value[f?0:1]):r.range?O(l,f)&&C(f)||oe(l.value,Array.isArray(t.value)?t.value[0]:null)&&M(f):!1,$=(l,f,D)=>Array.isArray(t.value)&&t.value[0]&&t.value.length===1?l?!1:D?ge(t.value[0],f.value):pe(t.value[0],f.value):!1,I=l=>!t.value||r.hideOffsetDates&&!l.current?!1:r.range?r.modelAuto&&Array.isArray(t.value)?oe(l.value,t.value[0]?t.value[0]:k.value):!1:r.multiDates&&Array.isArray(t.value)?t.value.some(f=>oe(f,l.value)):oe(l.value,t.value?t.value:k.value),_=l=>{if(r.autoRange||r.weekPicker){if(m.value){if(r.hideOffsetDates&&!l.current)return!1;const f=d.addDays(m.value,+r.autoRange),D=i(w(m.value));return r.weekPicker?oe(D[1],w(l.value)):oe(f,w(l.value))}return!1}return!1},G=l=>{if(r.autoRange||r.weekPicker){if(m.value){const f=d.addDays(m.value,+r.autoRange);if(r.hideOffsetDates&&!l.current)return!1;const D=i(w(m.value));return r.weekPicker?ge(l.value,D[0])&&pe(l.value,D[1]):ge(l.value,m.value)&&pe(l.value,f)}return!1}return!1},V=l=>{if(r.autoRange||r.weekPicker){if(m.value){if(r.hideOffsetDates&&!l.current)return!1;const f=i(w(m.value));return r.weekPicker?oe(f[0],l.value):oe(m.value,l.value)}return!1}return!1},v=l=>Bt(t.value,m.value,l.value),B=()=>r.modelAuto&&Array.isArray(r.internalModelValue)?!!r.internalModelValue[0]:!1,K=()=>r.modelAuto?Yt(r.internalModelValue):!0,F=l=>{if(Array.isArray(t.value)&&t.value.length||r.weekPicker)return!1;const f=r.range?!p(l)&&!p(l,!1):!0;return!a(l.value)&&!I(l)&&!(!l.current&&r.hideOffsetDates)&&f},ee=l=>r.range?r.modelAuto?B()&&I(l):!1:I(l),ne=l=>r.highlight?n(l.value,r.highlight):!1,S=l=>a(l.value)&&r.highlightDisabledDays===!1,R=l=>r.highlightWeekDays&&r.highlightWeekDays.includes(l.value.getDay()),Y=l=>(r.range||r.weekPicker)&&(!(r.multiCalendars>0)||l.current)&&K()&&!(!l.current&&r.hideOffsetDates)&&!I(l)?v(l):!1,y=l=>{const{isRangeStart:f,isRangeEnd:D}=j(l),L=r.range?f||D:!1;return{dp__cell_offset:!l.current,dp__pointer:!r.disabled&&!(!l.current&&r.hideOffsetDates)&&!a(l.value),dp__cell_disabled:a(l.value),dp__cell_highlight:!S(l)&&(ne(l)||R(l))&&!ee(l)&&!L,dp__cell_highlight_active:!S(l)&&(ne(l)||R(l))&&ee(l),dp__today:!r.noToday&&oe(l.value,k.value)&&l.current}},T=l=>({dp__active_date:ee(l),dp__date_hover:F(l)}),z=l=>({...Z(l),...P(l),dp__range_between_week:Y(l)&&r.weekPicker}),j=l=>{const f=r.multiCalendars>0?l.current&&p(l)&&K():p(l)&&K(),D=r.multiCalendars>0?l.current&&p(l,!1)&&K():p(l,!1)&&K();return{isRangeStart:f,isRangeEnd:D}},Z=l=>{const{isRangeStart:f,isRangeEnd:D}=j(l);return{dp__range_start:f,dp__range_end:D,dp__range_between:Y(l)&&!r.weekPicker,dp__date_hover_start:$(F(l),l,!0),dp__date_hover_end:$(F(l),l,!1)}},P=l=>({...Z(l),dp__cell_auto_range:G(l),dp__cell_auto_range_start:V(l),dp__cell_auto_range_end:_(l)}),o=l=>r.range?r.autoRange?P(l):r.modelAuto?{...T(l),...Z(l)}:Z(l):r.weekPicker?z(l):T(l);return{setHoverDate:N,clearHoverDate:E,getDayClassData:l=>({...y(l),...o(l),[r.dayClass?r.dayClass(l.value):""]:!0,[r.calendarCellClassName]:!!r.calendarCellClassName})}},Ar=["id","onKeydown"],Vr={key:0,class:"dp__sidebar_left"},Er={key:1,class:"dp__preset_ranges"},_r=["onClick"],Rr={key:2,class:"dp__sidebar_right"},vr={key:3,class:"dp__now_wrap"},Or=e.defineComponent({__name:"DatepickerMenu",props:{openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},...Ne},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open"],setup(t,{expose:r,emit:a}){const n=t,{setMenuFocused:i,setShiftKey:m,control:k}=St(),{getCalendarDays:N,defaults:E}=be(n),M=e.useSlots(),O=e.ref(null),C=e.reactive({timePicker:!!(!n.enableTimePicker||n.timePicker||n.monthPicker),monthYearInput:!!n.timePicker,calendar:!1}),p=e.ref([]),$=e.ref([]),I=e.ref(null),_=e.ref(null),G=e.ref(0),V=e.ref(!1),v=e.ref(0);e.onMounted(()=>{var x;V.value=!0,!((x=n.presetRanges)!=null&&x.length)&&!M["left-sidebar"]&&!M["right-sidebar"]&&J();const h=de(_);if(h&&!n.textInput&&!n.inline&&(i(!0),S()),h){const me=ue=>{["action-row","time-picker","month-year"].some(Re=>Object.keys(M).includes(Re))||ue.preventDefault(),ue.stopImmediatePropagation(),ue.stopPropagation()};h.addEventListener("pointerdown",me),h.addEventListener("mousedown",me)}window.addEventListener("resize",J)}),e.onUnmounted(()=>{window.removeEventListener("resize",J)});const{arrowRight:B,arrowLeft:K,arrowDown:F,arrowUp:ee}=Se(),ne=h=>{h||h===0?$.value[h].triggerTransition(z.value(h),j.value(h)):$.value.forEach((x,me)=>x.triggerTransition(z.value(me),j.value(me)))},S=()=>{const h=de(_);h&&h.focus({preventScroll:!0})},R=()=>{var h;(h=n.flow)!=null&&h.length&&v.value!==-1&&(v.value+=1,a("flow-step",v.value),b())},Y=()=>{v.value=-1},{calendars:y,modelValue:T,month:z,year:j,time:Z,updateTime:P,updateMonthYear:o,selectDate:s,getWeekNum:l,monthYearSelect:f,handleScroll:D,handleArrow:L,handleSwipe:A,getMarker:re,selectCurrentDate:g,presetDateRange:c}=_n(n,a,R,ne,v),{setHoverDate:H,clearHoverDate:X,getDayClassData:ie}=Pr(T,n);e.watch(y,()=>{n.openOnTop&&setTimeout(()=>{a("recalculate-position")},0)},{deep:!0});const Ce=Ae(M,"calendar"),Te=Ae(M,"action"),Q=Ae(M,"timePicker"),Be=Ae(M,"monthYear"),$e=e.computed(()=>n.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),we=e.computed(()=>Cn(n.yearRange)),Ie=e.computed(()=>$n(n.locale,n.monthNameFormat)),J=()=>{const h=de(O);h&&(G.value=h.getBoundingClientRect().width)},le=e.computed(()=>h=>N(z.value(h),j.value(h))),ae=e.computed(()=>E.value.multiCalendars>0&&n.range?[...Array(E.value.multiCalendars).keys()]:[0]),Ve=e.computed(()=>h=>h===1),Ee=e.computed(()=>n.monthPicker||n.timePicker||n.yearPicker),yt=e.computed(()=>({dp__flex_display:E.value.multiCalendars>0})),qe=e.computed(()=>({dp__instance_calendar:E.value.multiCalendars>0})),Le=e.computed(()=>({dp__menu_disabled:n.disabled,dp__menu_readonly:n.readonly})),pt=e.computed(()=>h=>ht(le,h)),gt=e.computed(()=>({dp__menu:!0,dp__menu_index:!n.inline,dp__relative:n.inline,[n.menuClassName]:!!n.menuClassName})),ht=(h,x)=>h.value(x).map(me=>({...me,days:me.days.map(ue=>(ue.marker=re(ue),ue.classData=ie(ue),ue))})),Xe=h=>{h.stopPropagation(),h.stopImmediatePropagation()},Ut=()=>{n.escClose&&a("close-picker")},Ht=(h,x=!1)=>{s(h,x),n.spaceConfirm&&a("select-date")},Je=h=>{var x;(x=n.flow)!=null&&x.length&&(C[h]=!0,Object.keys(C).filter(me=>!C[me]).length||b())},u=(h,x,me,ue,...Re)=>{if(n.flow[v.value]===h){const W=ue?x.value[0]:x.value;W&&W[me](...Re)}},b=()=>{u("month",p,"toggleMonthPicker",!0,!0),u("year",p,"toggleYearPicker",!0,!0),u("calendar",I,"toggleTimePicker",!1,!1,!0),u("time",I,"toggleTimePicker",!1,!0,!0);const h=n.flow[v.value];(h==="hours"||h==="minutes"||h==="seconds")&&u(h,I,"toggleTimePicker",!1,!0,!0,h)},U=h=>{if(n.arrowNavigation){if(h==="up")return ee();if(h==="down")return F();if(h==="left")return K();if(h==="right")return B()}else h==="left"||h==="up"?L("left",0,h==="up"):L("right",0,h==="down")},q=h=>{m(h.shiftKey),!n.disableMonthYearSelect&&h.code==="Tab"&&h.target.classList.contains("dp__menu")&&k.value.shiftKeyInMenu&&(h.preventDefault(),h.stopImmediatePropagation(),a("close-picker"))},ce=h=>{p.value[0]&&p.value[0].handleMonthYearChange(h)};return r({updateMonthYear:o}),(h,x)=>{var me;return e.openBlock(),e.createBlock(e.Transition,{appear:"",name:(me=e.unref(E).transitions)==null?void 0:me.menuAppear,mode:"out-in",css:!!h.transitions},{default:e.withCtx(()=>{var ue,Re;return[e.createElementVNode("div",{id:h.uid?`dp-menu-${h.uid}`:void 0,tabindex:"0",ref_key:"dpMenuRef",ref:_,role:"dialog",class:e.normalizeClass(e.unref(gt)),onMouseleave:x[15]||(x[15]=(...W)=>e.unref(X)&&e.unref(X)(...W)),onClick:Xe,onKeydown:[e.withKeys(Ut,["esc"]),x[16]||(x[16]=e.withKeys(e.withModifiers(W=>U("left"),["prevent"]),["left"])),x[17]||(x[17]=e.withKeys(e.withModifiers(W=>U("up"),["prevent"]),["up"])),x[18]||(x[18]=e.withKeys(e.withModifiers(W=>U("down"),["prevent"]),["down"])),x[19]||(x[19]=e.withKeys(e.withModifiers(W=>U("right"),["prevent"]),["right"])),q]},[(h.disabled||h.readonly)&&h.inline?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(e.unref(Le))},null,2)):e.createCommentVNode("",!0),!h.inline&&!h.teleportCenter?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(e.unref($e))},null,2)):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass({dp__menu_content_wrapper:((ue=h.presetRanges)==null?void 0:ue.length)||!!h.$slots["left-sidebar"]||!!h.$slots["right-sidebar"]})},[h.$slots["left-sidebar"]?(e.openBlock(),e.createElementBlock("div",Vr,[e.renderSlot(h.$slots,"left-sidebar",e.normalizeProps(e.guardReactiveProps({handleMonthYearChange:ce})))])):e.createCommentVNode("",!0),(Re=h.presetRanges)!=null&&Re.length?(e.openBlock(),e.createElementBlock("div",Er,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(h.presetRanges,(W,ve)=>(e.openBlock(),e.createElementBlock("div",{key:ve,style:e.normalizeStyle(W.style||{}),class:"dp__preset_range",onClick:te=>e.unref(c)(W.range,!!W.slot)},[W.slot?e.renderSlot(h.$slots,W.slot,{key:0,presetDateRange:e.unref(c),label:W.label,range:W.range}):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(W.label),1)],64))],12,_r))),128))])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:"dp__instance_calendar",ref_key:"calendarWrapperRef",ref:O,role:"document"},[e.createElementVNode("div",{class:e.normalizeClass(e.unref(yt))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(ae),(W,ve)=>(e.openBlock(),e.createElementBlock("div",{key:W,class:e.normalizeClass(e.unref(qe))},[!h.disableMonthYearSelect&&!h.timePicker?(e.openBlock(),e.createBlock(gr,e.mergeProps({key:0,ref_for:!0,ref:te=>{te&&(p.value[ve]=te)},months:e.unref(Ie),years:e.unref(we),month:e.unref(z)(W),year:e.unref(j)(W),instance:W,"internal-model-value":t.internalModelValue},h.$props,{onMount:x[0]||(x[0]=te=>Je("monthYearInput")),onResetFlow:Y,onUpdateMonthYear:te=>e.unref(o)(W,te),onMonthYearSelect:e.unref(f),onOverlayClosed:S}),e.createSlots({_:2},[e.renderList(e.unref(Be),(te,Kr)=>({name:te,fn:e.withCtx(kt=>[e.renderSlot(h.$slots,te,e.normalizeProps(e.guardReactiveProps(kt)))])}))]),1040,["months","years","month","year","instance","internal-model-value","onUpdateMonthYear","onMonthYearSelect"])):e.createCommentVNode("",!0),e.createVNode(rr,e.mergeProps({ref_for:!0,ref:te=>{te&&($.value[ve]=te)},"specific-mode":e.unref(Ee),"get-week-num":e.unref(l),instance:W,"mapped-dates":e.unref(pt)(W),month:e.unref(z)(W),year:e.unref(j)(W)},h.$props,{"flow-step":v.value,"onUpdate:flowStep":x[1]||(x[1]=te=>v.value=te),onSelectDate:te=>e.unref(s)(te,!e.unref(Ve)(W)),onHandleSpace:te=>Ht(te,!e.unref(Ve)(W)),onSetHoverDate:x[2]||(x[2]=te=>e.unref(H)(te)),onHandleScroll:te=>e.unref(D)(te,W),onHandleSwipe:te=>e.unref(A)(te,W),onMount:x[3]||(x[3]=te=>Je("calendar")),onResetFlow:Y,onTooltipOpen:x[4]||(x[4]=te=>h.$emit("tooltip-open",te)),onTooltipClose:x[5]||(x[5]=te=>h.$emit("tooltip-close",te))}),e.createSlots({_:2},[e.renderList(e.unref(Ce),(te,Kr)=>({name:te,fn:e.withCtx(kt=>[e.renderSlot(h.$slots,te,e.normalizeProps(e.guardReactiveProps({...kt})))])}))]),1040,["specific-mode","get-week-num","instance","mapped-dates","month","year","flow-step","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])],2))),128))],2),e.createElementVNode("div",null,[h.$slots["time-picker"]?e.renderSlot(h.$slots,"time-picker",e.normalizeProps(e.mergeProps({key:0},{time:e.unref(Z),updateTime:e.unref(P)}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[h.enableTimePicker&&!h.monthPicker&&!h.weekPicker?(e.openBlock(),e.createBlock(Tr,e.mergeProps({key:0,ref_key:"timePickerRef",ref:I,hours:e.unref(Z).hours,minutes:e.unref(Z).minutes,seconds:e.unref(Z).seconds,"internal-model-value":t.internalModelValue},h.$props,{onMount:x[6]||(x[6]=W=>Je("timePicker")),"onUpdate:hours":x[7]||(x[7]=W=>e.unref(P)(W)),"onUpdate:minutes":x[8]||(x[8]=W=>e.unref(P)(W,!1)),"onUpdate:seconds":x[9]||(x[9]=W=>e.unref(P)(W,!1,!0)),onResetFlow:Y,onOverlayClosed:S,onOverlayOpened:x[10]||(x[10]=W=>h.$emit("time-picker-open",W))}),e.createSlots({_:2},[e.renderList(e.unref(Q),(W,ve)=>({name:W,fn:e.withCtx(te=>[e.renderSlot(h.$slots,W,e.normalizeProps(e.guardReactiveProps(te)))])}))]),1040,["hours","minutes","seconds","internal-model-value"])):e.createCommentVNode("",!0)],64))])],512),h.$slots["right-sidebar"]?(e.openBlock(),e.createElementBlock("div",Rr,[e.renderSlot(h.$slots,"right-sidebar",e.normalizeProps(e.guardReactiveProps({handleMonthYearChange:ce})))])):e.createCommentVNode("",!0),h.showNowButton?(e.openBlock(),e.createElementBlock("div",vr,[h.$slots["now-button"]?e.renderSlot(h.$slots,"now-button",{key:0,selectCurrentDate:e.unref(g)}):e.createCommentVNode("",!0),h.$slots["now-button"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",role:"button",class:"dp__now_button",onClick:x[11]||(x[11]=(...W)=>e.unref(g)&&e.unref(g)(...W))},e.toDisplayString(h.nowButtonLabel),1))])):e.createCommentVNode("",!0)],2),!h.autoApply||h.keepActionRow?(e.openBlock(),e.createBlock(Zn,e.mergeProps({key:2,"menu-mount":V.value,"calendar-width":G.value,"internal-model-value":t.internalModelValue},h.$props,{onClosePicker:x[12]||(x[12]=W=>h.$emit("close-picker")),onSelectDate:x[13]||(x[13]=W=>h.$emit("select-date")),onInvalidSelect:x[14]||(x[14]=W=>h.$emit("invalid-select"))}),e.createSlots({_:2},[e.renderList(e.unref(Te),(W,ve)=>({name:W,fn:e.withCtx(te=>[e.renderSlot(h.$slots,W,e.normalizeProps(e.guardReactiveProps({...te})))])}))]),1040,["menu-mount","calendar-width","internal-model-value"])):e.createCommentVNode("",!0)],42,Ar)]}),_:3},8,["name","css"])}}}),Yr=typeof window<"u"?window:void 0,ft=()=>{},Ir=t=>e.getCurrentScope()?(e.onScopeDispose(t),!0):!1,Lr=(t,r,a,n)=>{if(!t)return ft;let i=ft;const m=e.watch(()=>e.unref(t),N=>{i(),N&&(N.addEventListener(r,a,n),i=()=>{N.removeEventListener(r,a,n),i=ft})},{immediate:!0,flush:"post"}),k=()=>{m(),i()};return Ir(k),k},zr=(t,r,a,n={})=>{const{window:i=Yr,event:m="pointerdown"}=n;return i?Lr(i,m,N=>{const E=de(t),M=de(r);!E||!M||E===N.target||N.composedPath().includes(E)||N.composedPath().includes(M)||a(N)},{passive:!0}):void 0},xr=e.defineComponent({__name:"VueDatePicker",props:{...Ne},emits:["update:model-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open"],setup(t,{expose:r,emit:a}){const n=t,i=e.useSlots(),m=e.ref(!1),k=e.toRef(n,"modelValue"),N=e.toRef(n,"timezone"),E=e.ref(null),M=e.ref(null),O=e.ref(!1),C=e.ref(null),{setMenuFocused:p,setShiftKey:$}=St(),{clearArrowNav:I}=Se(),{validateDate:_,isValidTime:G,defaults:V}=be(n);e.onMounted(()=>{y(n.modelValue),n.inline||(S(C.value).addEventListener("scroll",s),window.addEventListener("resize",l)),n.inline&&(m.value=!0)}),e.onUnmounted(()=>{if(!n.inline){const J=S(C.value);J&&J.removeEventListener("scroll",s),window.removeEventListener("resize",l)}});const v=Ae(i,"all",n.presetRanges),B=Ae(i,"input");e.watch([k,N],()=>{y(k.value)},{deep:!0});const{openOnTop:K,menuPosition:F,setMenuPosition:ee,setInitialPosition:ne,getScrollableParent:S}=On(E,M,a,n),{inputValue:R,internalModelValue:Y,parseExternalModelValue:y,emitModelValue:T,formatInputValue:z,checkBeforeEmit:j}=Rn(a,n,O),Z=e.computed(()=>({dp__main:!0,dp__theme_dark:n.dark,dp__theme_light:!n.dark,dp__flex_display:n.inline,dp__flex_display_with_input:n.inlineWithInput})),P=e.computed(()=>n.dark?"dp__theme_dark":"dp__theme_light"),o=e.computed(()=>n.teleport?{to:typeof n.teleport=="boolean"?"body":n.teleport,disabled:n.inline}:{class:"dp__outer_menu_wrap"}),s=()=>{m.value&&(n.closeOnScroll?X():ee())},l=()=>{m.value&&ee()},f=()=>{!n.disabled&&!n.readonly&&(ne(),m.value=!0,e.nextTick().then(()=>{ee(),m.value&&a("open")}),m.value||H(),y(n.modelValue))},D=()=>{R.value="",H(),a("update:model-value",null),a("cleared"),X()},L=()=>{const J=Y.value;return!J||!Array.isArray(J)&&_(J)?!0:Array.isArray(J)?J.length===2&&_(J[0])&&_(J[1])?!0:_(J[0]):!1},A=()=>{j()&&L()?(T(),X()):a("invalid-select",Y.value)},re=J=>{g(),T(),n.closeOnAutoApply&&!J&&X()},g=()=>{M.value&&n.textInput&&M.value.setParsedDate(Y.value)},c=(J=!1)=>{n.autoApply&&G(Y.value)&&L()&&(n.range&&Array.isArray(Y.value)?(n.partialRange||Y.value.length===2)&&re(J):re(J))},H=()=>{n.textInput||(Y.value=null)},X=()=>{n.inline||(m.value&&(m.value=!1,p(!1),$(!1),I(),a("closed"),ne(),R.value&&y(k.value)),H())},ie=(J,le)=>{if(!J){Y.value=null;return}Y.value=J,le&&(A(),a("text-submit"))},Ce=()=>{n.autoApply&&G(Y.value)&&T(),g()},Te=()=>m.value?X():f(),Q=J=>{Y.value=J},Be=e.computed(()=>n.textInput&&V.value.textInputOptions.format),$e=()=>{Be.value&&(O.value=!0,z()),a("focus")},we=()=>{Be.value&&(O.value=!1,z()),a("blur")},Ie=J=>{E.value&&E.value.updateMonthYear(0,{month:It(J.month),year:It(J.year)})};return zr(E,M,n.onClickOutside?()=>n.onClickOutside(L):X),r({closeMenu:X,selectDate:A,clearValue:D,openMenu:f,onScroll:s,formatInputValue:z,updateInternalModelValue:Q,setMonthYear:Ie}),(J,le)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(e.unref(Z)),ref_key:"pickerWrapperRef",ref:C},[e.createVNode(Hn,e.mergeProps({ref_key:"inputRef",ref:M,"is-menu-open":m.value,"input-value":e.unref(R),"onUpdate:inputValue":le[0]||(le[0]=ae=>e.isRef(R)?R.value=ae:null)},J.$props,{onClear:D,onOpen:f,onSetInputDate:ie,onSetEmptyDate:e.unref(T),onSelectDate:A,onToggle:Te,onClose:X,onFocus:$e,onBlur:we}),e.createSlots({_:2},[e.renderList(e.unref(B),(ae,Ve)=>({name:ae,fn:e.withCtx(Ee=>[e.renderSlot(J.$slots,ae,e.normalizeProps(e.guardReactiveProps(Ee)))])}))]),1040,["is-menu-open","input-value","onSetEmptyDate"]),m.value?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(J.teleport?e.Teleport:"div"),e.normalizeProps(e.mergeProps({key:0},e.unref(o))),{default:e.withCtx(()=>[m.value?(e.openBlock(),e.createBlock(Or,e.mergeProps({key:0,ref_key:"dpMenuRef",ref:E,class:e.unref(P),style:e.unref(F),"open-on-top":e.unref(K)},J.$props,{"internal-model-value":e.unref(Y),"onUpdate:internalModelValue":le[1]||(le[1]=ae=>e.isRef(Y)?Y.value=ae:null),onClosePicker:X,onSelectDate:A,onAutoApply:c,onTimeUpdate:Ce,onFlowStep:le[2]||(le[2]=ae=>J.$emit("flow-step",ae)),onUpdateMonthYear:le[3]||(le[3]=ae=>J.$emit("update-month-year",ae)),onInvalidSelect:le[4]||(le[4]=ae=>J.$emit("invalid-select",e.unref(Y))),onInvalidFixedRange:le[5]||(le[5]=ae=>J.$emit("invalid-fixed-range",ae)),onRecalculatePosition:e.unref(ee),onTooltipOpen:le[6]||(le[6]=ae=>J.$emit("tooltip-open",ae)),onTooltipClose:le[7]||(le[7]=ae=>J.$emit("tooltip-close",ae)),onTimePickerOpen:le[8]||(le[8]=ae=>J.$emit("time-picker-open",ae))}),e.createSlots({_:2},[e.renderList(e.unref(v),(ae,Ve)=>({name:ae,fn:e.withCtx(Ee=>[e.renderSlot(J.$slots,ae,e.normalizeProps(e.guardReactiveProps({...Ee})))])}))]),1040,["class","style","open-on-top","internal-model-value","onRecalculatePosition"])):e.createCommentVNode("",!0)]),_:3},16)):e.createCommentVNode("",!0)],2))}}),mt=(()=>{const t=xr;return t.install=r=>{r.component("Vue3DatePicker",t)},t})();return Object.entries(Object.freeze(Object.defineProperty({__proto__:null,default:mt},Symbol.toStringTag,{value:"Module"}))).forEach(([t,r])=>{t!=="default"&&(mt[t]=r)}),mt});
